(self.webpackChunkfind_you_future_app=self.webpackChunkfind_you_future_app||[]).push([[4162],{74162:function(e,t,i){"use strict";i.r(t),i.d(t,{ChangeEmailPageModule:function(){return p}});var n=i(38583),o=i(90665),a=i(19039),r=i(21382),s=i(64762),l=i(37556),c=i(39181),u=i(88720);function m(e,t){if(1&e&&(u.TgZ(0,"div",20),u._uU(1),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.hij(" ",e.message," ")}}function d(e,t){if(1&e&&(u.ynx(0),u.YNc(1,m,2,1,"div",19),u.BQk()),2&e){const e=t.$implicit,i=u.oxw();u.xp6(1),u.Q6J("ngIf",i.changeEmail.get("email").hasError(e.type)&&(i.changeEmail.get("email").dirty||i.changeEmail.get("email").touched))}}const g=[{path:"",component:(()=>{class e{constructor(e,t,i,n,o,a){this.formBuilder=e,this.router=t,this.auth=i,this.toast=n,this.alertController=o,this.profile=a,this.activeEmail="",this.validationMessasges={email:[{type:"email",message:"Must be a valid email address"}],password:[{type:"pattern",message:"Password must be at least 6 characters with at least one lowercase character, one uppercase character, and one number."}]},this.activeEmail=this.profile.email.getValue(),console.log("Active Email: "+this.activeEmail)}ngOnInit(){this.changeEmail=this.formBuilder.group({email:["",[o.kI.required,o.kI.email]],password:["",o.kI.compose([o.kI.minLength(8),o.kI.required,o.kI.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9]+$")])]}),this.changeEmail.valueChanges.subscribe(e=>{setTimeout(()=>{this.formValid=!!this.changeEmail.valid},100)})}presentToast(){return(0,s.mG)(this,void 0,void 0,function*(){(yield this.toast.create({message:"There was an error with your password or email. Please try again.",duration:5e3,cssClass:"wrong-password-toast",keyboardClose:!0,position:"top"})).present()})}presentAlert(){return(0,s.mG)(this,void 0,void 0,function*(){const e=yield this.alertController.create({cssClass:"danger-alert",header:"Invalid Email",message:"New Email cannot be the same as the current one.",buttons:[{text:"OK"}]});yield e.present()})}confirmChangedEmail(e,t){e==this.activeEmail?this.presentAlert():this.profile.changeEmail(e,t)}goBack(){this.router.navigate(["/home/profile"])}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(o.qu),u.Y36(r.F0),u.Y36(l.e),u.Y36(a.yF),u.Y36(a.Br),u.Y36(c.H))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-change-email"]],decls:33,vars:4,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-text-center"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"padding-top","80px","margin-bottom","40px"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[1,"desktop-toolbar"],["slot","end"],[1,"back-button",3,"click"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","10","size-md","8","size-lg","6","size-xl","6",1,"ion-text-center"],[1,"text-header",2,"width","unset"],["size-xs","11","size-sm","10","size-md","8","size-lg","6","size-xl","4"],[3,"formGroup","ngSubmit"],[1,"line-input"],["required","","placeholder","new email","formControlName","email","type","email",3,"keyup.enter"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["required","","placeholder","password","formControlName","password","minlength","8","type","password",3,"keyup.enter"],["type","submit",1,"orange-button",2,"width","unset",3,"disabled"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(e,t){1&e&&(u.TgZ(0,"ion-header",0),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",1),u._UZ(3,"ion-back-button"),u.qZA(),u.TgZ(4,"ion-title"),u._uU(5,"Change Email"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(6,"ion-content"),u.TgZ(7,"ion-grid",2),u.TgZ(8,"ion-row",3),u.TgZ(9,"ion-col",4),u.TgZ(10,"ion-toolbar",5),u.TgZ(11,"ion-buttons",1),u.TgZ(12,"h1"),u._uU(13,"Change Email"),u.qZA(),u.qZA(),u.TgZ(14,"ion-buttons",6),u.TgZ(15,"ion-button",7),u.NdJ("click",function(){return t.goBack()}),u._uU(16," Back "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(17,"ion-row",8),u.TgZ(18,"ion-col",9),u.TgZ(19,"h6",10),u._uU(20),u.qZA(),u.qZA(),u.qZA(),u.TgZ(21,"ion-row",8),u.TgZ(22,"ion-col",11),u.TgZ(23,"form",12),u.NdJ("ngSubmit",function(){return t.confirmChangedEmail(t.changeEmail.controls.email.value,t.changeEmail.controls.password.value)}),u.TgZ(24,"ion-list",13),u.TgZ(25,"ion-item"),u.TgZ(26,"ion-input",14),u.NdJ("keyup.enter",function(){return t.formValid?t.confirmChangedEmail(t.changeEmail.controls.email.value,t.changeEmail.controls.password.value):null}),u.qZA(),u.qZA(),u.TgZ(27,"div",15),u.YNc(28,d,2,1,"ng-container",16),u.qZA(),u.TgZ(29,"ion-item"),u.TgZ(30,"ion-input",17),u.NdJ("keyup.enter",function(){return t.formValid?t.confirmChangedEmail(t.changeEmail.controls.email.value,t.changeEmail.controls.password.value):null}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(31,"ion-button",18),u._uU(32,"CHANGE EMAIL"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(20),u.Oqu(t.activeEmail),u.xp6(3),u.Q6J("formGroup",t.changeEmail),u.xp6(5),u.Q6J("ngForOf",t.validationMessasges.email),u.xp6(3),u.Q6J("disabled",!t.formValid))},directives:[a.Gu,a.sr,a.Sm,a.oU,a.cs,a.wd,a.W2,a.jY,a.Nd,a.wI,a.YG,o._Y,o.JL,o.sg,a.q_,a.Ie,a.pK,a.j9,o.Q7,o.JJ,o.u,n.sg,o.wO,n.O5],styles:[".desktop-toolbar[_ngcontent-%COMP%]{--background:none;padding-bottom:16px;border-bottom:1px solid #33333326}.desktop-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0055a5}.back-button[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;--background-hover:linear-gradient(#0055a5,#0d2e4d);height:24px;--border-radius:5px;width:100px;font-size:.5em;font-weight:600;display:block}.text-header[_ngcontent-%COMP%]{background:#e4ebf1}"]}),e})()},{path:"confirm",loadChildren:()=>i.e(3319).then(i.bind(i,93319)).then(e=>e.ConfirmPageModule)}];let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[r.Bz.forChild(g)],r.Bz]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[n.ez,o.u5,a.Pc,o.UX,h]]}),e})()}}]);