{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAEC;AAFb,OADqB,EAKrB;AACEF,YAAI,EAAE,cADR;AAEEG,oBAAY,EAAE;AAAA,iBAAMC;AAAA;AAAA;AAAA;AAAA,kBAA6CC,IAA7C,CAAmD,WAAC;AAAA,mBAAIC,CAAC,CAACC,sBAAN;AAAA,WAApD,CAAN;AAAA;AAFhB,OALqB,CAAvB;;UAeaC,yBAAwB;AAAA;AAAA;;AAAxBA,+BAAwB,uDAJpC,yDAAS;AACRC,eAAO,EAAE,CAACC,mEAAsBX,MAAtB,CAAD,CADD;AAERY,eAAO,EAAE,CAACD,yDAAD;AAFD,OAAT,CAIoC,GAAxBF,yBAAwB,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAAI,kBAAiB;AAAA;AAAA;;AAAjBA,wBAAiB,uDAX7B,yDAAS;AACRH,eAAO,EAAE,CACPI,yDADO,EAEPC,uDAFO,EAGPA,uDAHO,EAIPA,+DAJO,EAKPC,uDALO,EAMPC,8EANO,CADD;AASRC,oBAAY,EAAE,CAACC,uDAAD;AATN,OAAT,CAW6B,GAAjBN,kBAAiB,CAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCPAO,YAAW;AAiBtB,6BACUC,MADV,EAEUC,OAFV,EAGUC,KAHV,EAIUC,OAJV,EAKUC,WALV,EAKkC;AAAA;;AAJxB;AACA;AACA;AACA;AACA;AAbV,0BAAW,EAAX,CAakC,CATlC;;AACA,oCAAqB,EAArB;AASK;;AAvBiB;AAAA;AAAA,iBAwBtB,2BAAe,CACd;AAzBqB;AAAA;AAAA,iBA2BtB,oBAAQ;AAAA;;AACN,iBAAKC,YAAL,GAAoB,KAAKD,WAAL,CAAiBE,KAAjB,CAAuB;AACzCC,mBAAK,EAAE,CAAC,EAAD,EAAKC,+DAAL,CADkC;AAEzCC,sBAAQ,EAAE,CAAC,EAAD,EAAKD,+DAAL,CAF+B;AAGzCE,kBAAI,EAAE,CAAC,EAAD,EAAKF,+DAAL;AAHmC,aAAvB,CAApB;AAOA,iBAAKL,OAAL,CAAaQ,cAAb,GAA8BC,SAA9B,CACE,iBAAO,EAAG;AACRC,qBAAO,CAACC,GAAR,CAAYC,OAAZ;AACA,mBAAI,CAACC,YAAL,GAAoBD,OAAO,CAAC,OAAD,CAA3B;AACA,mBAAI,CAACE,WAAL,GAAmBF,OAAO,CAAC,UAAD,CAA1B;AACA,mBAAI,CAACG,qBAAL,GAA6BH,OAAO,CAAC,gBAAD,CAApC;AACD,aANH;AAQD;AA3CqB;AAAA;AAAA,iBA6CtB,gBAAI;AACF,iBAAKf,MAAL,CAAYmB,QAAZ,CAAqB,CAAC,aAAD,CAArB;AACD;AA/CqB;AAAA;AAAA,iBAiDhB,cAAKF,WAAL,EAAkBD,YAAlB,EAAgCE,qBAAhC,EAAuDT,QAAvD,EAAiEC,KAAjE,EAAuEH,KAAvE,EAA4E;;;;;;;AAChF,6BAAM,KAAKa,cAAL,EAAN;;;;AACA,6BAAM,KAAKlB,KAAL,CAAWmB,OAAX,CAAmBJ,WAAnB,EAAgCD,YAAhC,EAA8CE,qBAA9C,EAAqET,QAArE,EAA+EC,KAA/E,EAAqFH,KAArF,EAA4FK,SAA5F,CACJ,cAAI,EAAG;AACLC,+BAAO,CAACC,GAAR,CAAYQ,IAAZ;AACD,uBAHG,CAAN;;;;AAKA,6BAAM,KAAKtB,MAAL,CAAYmB,QAAZ,CAAqB,CAAC,kCAAD,CAArB,CAAN;;;;;;;;;AACD;AAzDqB;AAAA;AAAA,iBA2DhB,0BAAc;;;;;;;;;AACF,6BAAM,KAAKlB,OAAL,CAAasB,MAAb,CAAoB;AACxCC,+BAAO,EAAE,gCAD+B;AAExCC,+BAAO,EAAE,SAF+B;AAGxCC,gCAAQ,EAAE;AAH8B,uBAApB,CAAN;;;AAAVzB;;AAKN,6BAAMA,OAAO,CAAC0B,OAAR,EAAN;;;;AAEuB,6BAAM1B,OAAO,CAAC2B,YAAR,EAAN;;;;AAAfC;AAAMP;AACdT,6BAAO,CAACC,GAAR,CAAY,oBAAZ;;;;;;;;;AACD;AArEqB;AAAA;AAAA,iBAuEtB,oBAAWgB,KAAX,EAAgB;AACdjB,mBAAO,CAACC,GAAR,CAAYgB,KAAZ;AACA,gBAAIC,cAAc,GAAG,KAAK1B,YAAL,CAAkB2B,GAAlB,CAAsB,UAAtB,CAArB;;AACA,gBAAGF,KAAK,CAACG,IAAN,KAAe,OAAlB,EAA2B;AACzBpB,qBAAO,CAACC,GAAR,CAAY,uBAAZ;AACAD,qBAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,qBAAO,CAACC,GAAR,CAAYiB,cAAc,CAACG,KAA3B;AACArB,qBAAO,CAACC,GAAR,CAAY,YAAZ;AACA,mBAAKL,QAAL,CAAc0B,IAAd,CAAmBJ,cAAc,CAACG,KAAlC;AACArB,qBAAO,CAACC,GAAR,CAAY,KAAKL,QAAjB;AAED;AAEF;AApFqB;AAAA;AAAA,iBAsFtB,mBAAU2B,CAAV,EAAW;AACTvB,mBAAO,CAACC,GAAR,CAAYsB,CAAZ;AACA,gBAAIC,KAAK,GAAG,KAAK5B,QAAL,CAAc6B,OAAd,CAAsBF,CAAtB,CAAZ;AACAvB,mBAAO,CAACC,GAAR,CAAYuB,KAAZ;;AAEA,gBAAIA,KAAK,GAAG,CAAC,CAAb,EAAgB;AACd,mBAAK5B,QAAL,CAAc8B,MAAd,CAAqBF,KAArB,EAA4B,CAA5B;AACAxB,qBAAO,CAACC,GAAR,CAAY,KAAKL,QAAjB;AACD;AACF;AA/FqB;;AAAA;AAAA;;;;gBAZf+B;;gBACAC;;gBACAC;;gBACAC;;gBACWnC;;;;;;gBAUjBoC;AAASC,iBAAC,WAAD,EAAc;AAAC,sBAAQ;AAAT,WAAd;;;gBACTD;AAASC,iBAAC,YAAD,EAAe;AAAC,sBAAQ;AAAT,WAAf;;;gBACTD;AAASC,iBAAC,YAAD,EAAe;AAAC,sBAAQ;AAAT,WAAf;;;AAJC9C,kBAAW,uDALvB,0DAAU;AACT+C,gBAAQ,EAAE,cADD;AAETC,4KAFS;;AAAA,OAAV,CAKuB,2EAkBJP,qDACCC,+DACFC,yEACEC,8EACInC,yDAtBD,GAAXT,YAAW,CAAX;;;;;;;;;;;;;ACbb;;;AAAAiD,uCAAe,igJAAf;;;;;;;;;;;;;;;","names":["routes","path","component","_add_post_page__WEBPACK_IMPORTED_MODULE_0__","loadChildren","__webpack_require__","then","m","VerificationPageModule","AddPostPageRoutingModule","imports","_angular_router__WEBPACK_IMPORTED_MODULE_3__","exports","AddPostPageModule","_angular_common__WEBPACK_IMPORTED_MODULE_4__","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","_ionic_angular__WEBPACK_IMPORTED_MODULE_6__","_add_post_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_add_post_page__WEBPACK_IMPORTED_MODULE_1__","AddPostPage","router","loading","posts","profile","formBuilder","textPostForm","group","title","_angular_forms__WEBPACK_IMPORTED_MODULE_4__","hashtags","post","getUserDetails","subscribe","console","log","details","creatorEmail","creatorName","creatorProfilePicture","navigate","presentLoading","addPost","data","create","message","spinner","duration","present","onDidDismiss","role","event","hashtagControl","get","code","value","push","i","index","indexOf","splice","_angular_router__WEBPACK_IMPORTED_MODULE_6__","_ionic_angular__WEBPACK_IMPORTED_MODULE_7__","src_app_services_post_service__WEBPACK_IMPORTED_MODULE_2__","src_app_services_profile_service__WEBPACK_IMPORTED_MODULE_3__","_angular_core__WEBPACK_IMPORTED_MODULE_8__","args","selector","template","__webpack_exports__"],"sources":["webpack:///src/app/pages/posts/add-post/add-post-routing.module.ts","webpack:///src/app/pages/posts/add-post/add-post.module.ts","webpack:///src/app/pages/posts/add-post/add-post.page.ts","webpack:///src/app/pages/posts/add-post/add-post.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddPostPage } from './add-post.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddPostPage\n  },\n  {\n    path: 'verification',\n    loadChildren: () => import('./verification/verification.module').then( m => m.VerificationPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddPostPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddPostPageRoutingModule } from './add-post-routing.module';\n\nimport { AddPostPage } from './add-post.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    AddPostPageRoutingModule\n  ],\n  declarations: [AddPostPage]\n})\nexport class AddPostPageModule {}\n","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\nimport { PostsService } from 'src/app/services/post.service';\nimport { ProfileService } from 'src/app/services/profile.service';\nimport { FormGroup, FormBuilder, Validators, ReactiveFormsModule } from '@angular/forms';\n\n\n@Component({\n  selector: 'app-add-post',\n  templateUrl: './add-post.page.html',\n  styleUrls: ['./add-post.page.scss'],\n})\nexport class AddPostPage implements OnInit, AfterViewInit {\n\n  @ViewChild('postChars', {static: false}) postChars;\n  @ViewChild('titleChars', {static: false}) titleChars;\n  @ViewChild('hashtagRef', {static: false}) hashtagRef;\n  creatorEmail;\n  creatorName;\n  postValue;\n  char;\n  hashtags = [];\n\n  textPostForm: FormGroup;\n\n  // Do some sort of Validation Later\n  validationMessages = {};\n  creatorProfilePicture: any;\n\n  constructor(\n    private router: Router,\n    private loading: LoadingController,\n    private posts: PostsService,\n    private profile: ProfileService,\n    private formBuilder: FormBuilder,\n  ) { }\n  ngAfterViewInit() {\n  }\n\n  ngOnInit() {\n    this.textPostForm = this.formBuilder.group({\n      title: ['', Validators.required],\n      hashtags: ['', Validators.required],\n      post: ['', Validators.required]\n    }\n    );\n\n    this.profile.getUserDetails().subscribe(\n      details => {\n        console.log(details);\n        this.creatorEmail = details['email'];\n        this.creatorName = details['fullName'];\n        this.creatorProfilePicture = details['profilePicture'];\n      }\n    );\n  }\n\n  back() {\n    this.router.navigate(['/home/posts']);\n  }\n\n  async post(creatorName, creatorEmail, creatorProfilePicture, hashtags, post, title) {\n    await this.presentLoading();\n    await this.posts.addPost(creatorName, creatorEmail, creatorProfilePicture, hashtags, post, title).subscribe(\n      data => {\n        console.log(data);\n      }\n    );\n    await this.router.navigate(['home/posts/add-post/verification']);\n  }\n\n  async presentLoading() {\n    const loading = await this.loading.create({\n      message: 'Sending post to be Verified...',\n      spinner: 'bubbles',\n      duration: 2000\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n    console.log('Loading dismissed!');\n  }\n\n  addHashTag(event) {\n    console.log(event);\n    let hashtagControl = this.textPostForm.get('hashtags');\n    if(event.code === \"Enter\") {\n      console.log('ENTER button pressed.');\n      console.log('Value: ');\n      console.log(hashtagControl.value);\n      console.log('Hashtags: ');\n      this.hashtags.push(hashtagControl.value);\n      console.log(this.hashtags);\n\n    }\n\n  }\n\n  deleteTag(i) {\n    console.log(i);\n    let index = this.hashtags.indexOf(i);\n    console.log(index);\n\n    if (index = -1) {\n      this.hashtags.splice(index, 1);\n      console.log(this.hashtags);\n    }\n  }\n\n}\n","export default \"<!-- Mobile Toolbar -->\\n<ion-header class=\\\"ion-hide-lg-up\\\">\\n  <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button></ion-back-button>\\n      </ion-buttons>\\n    <ion-title>Add Post</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <!-- Desktop Header -->\\n    <ion-row class=\\\"header ion-hide-md-down ion-justify-content-center\\\"  style=\\\"margin: 4% 0% 1% 0%;\\\">\\n      <ion-col size-xs=\\\"11\\\" size-sm=\\\"10\\\" size-md=\\\"9\\\" size-lg=\\\"6\\\" size-xl=\\\"6\\\">\\n        <h1 style=\\\"\\\">New Post</h1>\\n        <ion-button class=\\\"blue-button-small ion-float-right\\\"  (click)=\\\"back()\\\">\\n           Back\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row class=\\\"ion-justify-content-center\\\" style=\\\"margin-top: 1%;\\\">\\n      <ion-col class=\\\"ion-text-center\\\" size-xs=\\\"11\\\" size-sm=\\\"10\\\" size-md=\\\"9\\\" size-lg=\\\"7\\\" size-xl=\\\"6\\\">\\n        <!-- Mobile Text Header -->\\n        <p class=\\\"message ion-hide-md-up\\\">Please keep your content clean. In order to maintain a high standard of content, each post will have to be verified before they are added to the Posts feed. Happy posting, and be inspired!</p>\\n\\n        <!-- Desktop Text Header -->\\n        <p class=\\\"message ion-hide-md-down\\\">Please keep your content clean. In order to maintain a high standard of content, each post will have to be verified before they are added to the Posts feed. Happy posting, and be inspired!</p>\\n        <hr style=\\\"border-top: #9993 solid 2px;\\n        margin-bottom: 50px;\\\">\\n      </ion-col>\\n\\n    </ion-row>\\n\\n    <ion-row class=\\\"ion-justify-content-center\\\">\\n      <ion-col size-xs=\\\"11\\\" size-sm=\\\"10\\\" size-md=\\\"10\\\" size-lg=\\\"8\\\" size-xl=\\\"6\\\">\\n        <form [formGroup]=\\\"textPostForm\\\" (ngSubmit)=\\\"textPostForm.value.post.length > 0 ? post(this.creatorName, this.creatorEmail, this.creatorProfilePicture, this.hashtags, this.textPostForm.controls.post.value, this.textPostForm.controls.title.value) : null\\\">\\n\\n          <ion-list class=\\\"line-input\\\">\\n            <ion-label>Title</ion-label>\\n            <ion-item>\\n              <ion-input\\n              #titleChars\\n              autocapitalize=\\\"on\\\"\\n              required\\n              inputmode=\\\"text\\\"\\n              maxlength=\\\"100\\\"\\n              formControlName=\\\"title\\\"\\n              placeholder=\\\"Title\\\"></ion-input>\\n            </ion-item>\\n            <ion-label>Hashtags</ion-label>\\n            <h5>Please seperate each tag with a comma ( , ). You can add up to 5 hashtags.</h5>\\n            <div class=\\\"hashtag\\\" *ngFor=\\\"let i = index; let tag of hashtags\\\">\\n              <p>{{tag}}</p>\\n              <img (click)=\\\"deleteTag(i)\\\" src=\\\"../../../../assets/icon/close-icon.svg\\\" alt=\\\"\\\" srcset=\\\"\\\">\\n            </div>\\n            <ion-item>\\n              <ion-input\\n              #hashtagRef\\n              autocapitalize=\\\"on\\\"\\n              required\\n              inputmode=\\\"text\\\"\\n              maxlength=\\\"100\\\"\\n              clearInput=\\\"true\\\"\\n              (keydown)=\\\"addHashTag($event)\\\"\\n              formControlName=\\\"hashtags\\\"\\n              placeholder=\\\"Type tag then press Enter\\\">#</ion-input>\\n            </ion-item>\\n            <!-- <p class=\\\"char-limit\\\">{{titleChars.value.length}} / 100 character limit</p> -->\\n\\n            <ion-label>Post</ion-label>\\n            <h5>Keep your content clean. There is a filter for profane language. Administrative action will be taken against posts with too much profanity.</h5>\\n              <ion-item style=\\\"height: auto;\\\">\\n                <ion-textarea\\n                  #postChars\\n                  rows=\\\"10\\\"\\n                  auto-grow=\\\"true\\\"\\n                  spellcheck=\\\"true\\\"\\n                  maxlength=\\\"1000\\\"\\n                  formControlName=\\\"post\\\"\\n                  placeholder=\\\"What do you have to say?\\\"\\n                  (keydown.control.enter)=\\\"textPostForm.value.textPost.length > 0 ? post(this.hashtags, this.creatorName, this.creatorEmail, this.creatorProfilePicture, this.textPostForm.value.textPost, this.textPostForm.value.title) : null\\\">\\n                </ion-textarea>\\n              </ion-item>\\n              <p class=\\\"char-limit\\\">{{postChars.value.length}} / 3000 character limit</p>\\n             <div class=\\\"ion-text-center\\\">\\n              <ion-button\\n              class=\\\"orange-button\\\"\\n              type=\\\"submit\\\">\\n                Submit\\n              </ion-button>\\n             </div>\\n            </ion-list>\\n        </form>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n</ion-content>\\n\";"]}