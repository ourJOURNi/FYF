{"version":3,"mappings":"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","names":["routes","path","component","_enter_code_page__WEBPACK_IMPORTED_MODULE_0__","loadChildren","__webpack_require__","then","m","ThankYouPageModule","EnterCodePageRoutingModule","imports","_angular_router__WEBPACK_IMPORTED_MODULE_3__","exports","EnterCodePageModule","_angular_common__WEBPACK_IMPORTED_MODULE_4__","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","_ionic_angular__WEBPACK_IMPORTED_MODULE_6__","_enter_code_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_enter_code_page__WEBPACK_IMPORTED_MODULE_1__","EnterCodePage","router","formBuilder","auth","activatedRoute","toast","enterCodeForm","group","code","_angular_forms__WEBPACK_IMPORTED_MODULE_3__","userEmail","snapshot","paramMap","get","generateCode","console","log","sendEmailWithCode","formOnChanges","valueChanges","subscribe","data","presentCodesMatchedToast","disabled","length","result","characters","charactersLength","i","charAt","Math","floor","random","presentNewCodeToast","controls","value","presentErrorToast","register","navigate","create","message","duration","cssClass","present","keyboardClose","position","email","_angular_router__WEBPACK_IMPORTED_MODULE_5__","src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_2__","selector","template","__webpack_exports__"],"sources":["webpack:///src/app/pages/auth/sign-up/enter-code/enter-code-routing.module.ts","webpack:///src/app/pages/auth/sign-up/enter-code/enter-code.module.ts","webpack:///src/app/pages/auth/sign-up/enter-code/enter-code.page.ts","webpack:///src/app/pages/auth/sign-up/enter-code/enter-code.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EnterCodePage } from './enter-code.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EnterCodePage\n  },\n  {\n    path: 'thank-you-page',\n    loadChildren: () => import('../thank-you/thank-you.module').then(m => m.ThankYouPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EnterCodePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EnterCodePageRoutingModule } from './enter-code-routing.module';\n\nimport { EnterCodePage } from './enter-code.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    EnterCodePageRoutingModule\n  ],\n  declarations: [EnterCodePage]\n})\nexport class EnterCodePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormGroup, FormBuilder, Validators, ReactiveFormsModule } from '@angular/forms';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { ToastController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-enter-code',\n  templateUrl: './enter-code.page.html',\n  styleUrls: ['./enter-code.page.scss'],\n})\nexport class EnterCodePage implements OnInit {\n  enterCodeForm: FormGroup;\n  disabled = true;\n  code = '';\n  userEmail = '';\n\n  constructor(\n    private router: Router,\n    private formBuilder: FormBuilder,\n    public auth: AuthService,\n    private activatedRoute: ActivatedRoute,\n    private toast: ToastController) { }\n\n  ngOnInit() {\n    this.enterCodeForm =  this.formBuilder.group({\n      code: ['', [Validators.required, Validators.maxLength(6)]]\n    });\n\n    this.userEmail = this.activatedRoute.snapshot.paramMap.get('email');\n\n    this.generateCode(6).then(code => {\n      console.log(`Sent Email to ${this.userEmail}`);\n      this.auth.sendEmailWithCode(code, this.userEmail);\n    });\n\n    this.formOnChanges();\n\n  }\n  formOnChanges(): void {\n    console.log(this.enterCodeForm);\n    this.enterCodeForm.valueChanges.subscribe( data => {\n       console.log(data);\n\n       if (data.code === this.code) {\n          console.log('codes match');\n          this.presentCodesMatchedToast();\n          this.disabled = false;\n        }\n\n       if (data.code !== this.code) {\n          this.disabled = true;\n        }\n      });\n  }\n  async generateCode(length) {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n\n    for ( let i = 0; i < length; i++ ) {\n       result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    console.log('Generated Code: ' + result);\n    return this.code = result;\n }\n async sendNewCode() {\n  await this.generateCode(6).then(code => {\n    console.log('Data: ' + code);\n    this.auth.sendEmailWithCode(code, this.userEmail);\n  });\n\n  await this.presentNewCodeToast(this.userEmail);\n }\n  thankYouPage() {\n    if (this.enterCodeForm.controls.code.value !== this.code) {\n      this.presentErrorToast();\n      console.log('Codes do not match');\n    }\n    console.log('Thank you page');\n    this.auth.register();\n    this.router.navigate(['/personal-info/profile-picture/upload-resume/login-credentials/enter-code/:email/thank-you-page']);\n  };\n  async presentCodesMatchedToast() {\n    const toast = await this.toast.create({\n      message: 'Codes Matched!',\n      duration: 2000,\n      cssClass: 'success-toast'\n    });\n    toast.present();\n  }\n  async presentErrorToast() {\n    const toast = await this.toast.create({\n      message: 'The codes do not match. Please try again.',\n      duration: 2000,\n      cssClass: 'wrong-password-toast',\n      keyboardClose: true,\n      position: 'top',\n    });\n    toast.present();\n  }\n  async presentNewCodeToast(email) {\n    const toast = await this.toast.create({\n      message: `New Code sent to ${email}`,\n      duration: 2000,\n      cssClass: 'success-toast',\n      keyboardClose: true,\n      position: 'top',\n    });\n    toast.present();\n  }\n  back() {\n    console.log('Sign up cancelled');\n    this.router.navigate(['/personal-info/profile-picture/upload-resume/']);\n  }\n\n}\n","export default \"<ion-header class=\\\"ion-hide-lg-up\\\">\\n  <ion-toolbar mode=\\\"md\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <img style=\\\"margin-right: 16px;\\\" height=\\\"32\\\" src=\\\"../../../../../assets/icon/fyf-white-icon.svg\\\">\\n    </ion-buttons>\\n    <ion-title size=\\\"small\\\">Enter Code</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"spacer ion-hide-lg-down\\\"></div>\\n  <ion-grid>\\n    <!-- Desktop Header -->\\n    <ion-row style=\\\"padding-top: 80px; margin-bottom: 40px;\\\" class=\\\"ion-hide-lg-down ion-justify-content-center\\\">\\n      <ion-col size-xs=\\\"11\\\" size-sm=\\\"10\\\" size-md=\\\"10\\\" size-lg=\\\"8\\\" size-xl=\\\"6\\\">\\n        <ion-toolbar class=\\\"desktop-toolbar\\\">\\n              <ion-buttons slot=\\\"start\\\">\\n                  <img height=\\\"50\\\" src=\\\"../../../../../assets/icon/Logo 2.0.svg\\\" alt=\\\"\\\" srcset=\\\"\\\">\\n              </ion-buttons>\\n              <ion-buttons slot=\\\"end\\\">\\n                <ion-button class=\\\"back-button\\\" (click)=\\\"back()\\\">\\n                  Back\\n                </ion-button>\\n              </ion-buttons>\\n        </ion-toolbar>\\n            <!-- <img height=\\\"50\\\" style=\\\"display: inline;\\\" src=\\\"../../../assets/icon/suitcase-blue.svg\\\" alt=\\\"\\\" srcset=\\\"\\\">\\n            <h1 style=\\\"display: inline; margin-left: 15px;\\\">Jobs</h1> -->\\n      </ion-col>\\n    </ion-row>\\n\\n    <!-- Header -->\\n    <ion-row class=\\\"ion-justify-content-center header\\\">\\n      <ion-col class=\\\"ion-text-center\\\" size=\\\"12\\\">\\n        <h6 class=\\\"text-header\\\">Please enter the 6 character code that was sent to <span>{{userEmail}}</span></h6>\\n      </ion-col>\\n    </ion-row>\\n\\n    <ion-row class=\\\"ion-justify-content-center ion-align-items-center\\\">\\n      <ion-col class=\\\"ion-text-center\\\" size-xs=\\\"11\\\" size-sm=\\\"10\\\" size-md=\\\"10\\\" size-lg=\\\"6\\\" size-xl=\\\"4\\\">\\n        <form (ngSubmit)=\\\"thankYouPage()\\\" [formGroup]=\\\"enterCodeForm\\\">\\n          <ion-list class=\\\"line-input\\\">\\n            <ion-item>\\n              <ion-input\\n              formControlName=\\\"code\\\"\\n              type=\\\"email\\\"\\n              placeholder=\\\"enter code\\\"></ion-input>\\n            </ion-item>\\n            <ion-button [disabled]=\\\"disabled\\\" class=\\\"orange-button\\\" type=\\\"submit\\\">\\n              ENTER CODE\\n            </ion-button>\\n            <ion-button class=\\\"send-new-code\\\" (click)=\\\"sendNewCode()\\\">\\n              Send new code\\n            </ion-button>\\n            <ion-button class=\\\"cancel-button\\\" (click)=\\\"this.auth.cancelSignUp()\\\">\\n              Cancel\\n            </ion-button>\\n          </ion-list>\\n        </form>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\\n\";"]}