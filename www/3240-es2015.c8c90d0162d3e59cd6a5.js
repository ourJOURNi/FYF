(self.webpackChunkfind_you_future_app=self.webpackChunkfind_you_future_app||[]).push([[3240],{53240:function(t,e,o){"use strict";o.r(e),o.d(e,{PostPagePageModule:function(){return et}});var n=o(38583),i=o(90665),s=o(64941),r=o(19039),c=o(21382),l=o(64762),a=o(69166),m=o(39181),u=o(20445),p=o(88720),d=o(50806);let g=(()=>{class t{constructor(t,e,o,n,i,s,r){this.formBuilder=t,this.modal=e,this.navParams=o,this.loading=n,this.alert=i,this.posts=s,this.postEmitterService=r}ngOnInit(){this.replyCommentForm=this.formBuilder.group({reply:[""]}),this.commentID=this.navParams.get("commentID"),this.postID=this.navParams.get("postID"),this.userFullName=this.navParams.get("userFullName"),this.userEmail=this.navParams.get("userEmail"),this.userProfilePicture=this.navParams.get("userProfilePicture"),this.commentUserFullName=this.navParams.get("commentUserFullName"),this.commentUserEmail=this.navParams.get("commentUserEmail"),this.comment=this.navParams.get("comment"),console.log(this.commentUserEmail),console.log(this.userEmail)}reply(t){return(0,l.mG)(this,void 0,void 0,function*(){yield console.log("replying to comment..."),yield this.posts.replyComment(this.commentID,this.postID,t.reply,this.userFullName,this.userEmail,this.userProfilePicture,this.commentUserFullName,this.commentUserEmail).subscribe(t=>{console.log(t);let e=t.comments,o=t.userEmail;for(const n of e){n.repliesLength=n.replies.length,n.isUser=!1,n.canDeleteComment=!1,n.canReport=!0,n.date=(0,u.Z)(new Date(n.date),{includeSeconds:!1,addSuffix:!1}),n.userEmail===o&&(n.isUser=!0,n.canDeleteComment=!0,n.canReport=!1);for(let t=0;n.replies.length>t;t++)n.replies[t].date=(0,u.Z)(new Date(n.replies[t].date),{addSuffix:!1})}this.posts.commentsSubject$.next(e.reverse())}),yield this.replyLoading()})}replyLoading(){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield this.loading.create({message:"Replying to Comment...",duration:2e3});yield t.present(),yield t.onDidDismiss(),yield this.modal.dismiss(),yield this.confirmAlert(),console.log("Loading dismissed!")})}confirmAlert(){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield this.alert.create({cssClass:"success-alert",message:"Your comment has been added.",buttons:["OK"]});yield t.present()})}cancel(){console.log("cancelling reply..."),this.modal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(i.qu),p.Y36(r.IN),p.Y36(r.X1),p.Y36(r.HT),p.Y36(r.Br),p.Y36(a.P),p.Y36(d.p))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-reply-post"]],decls:23,vars:3,consts:[[1,"ion-hide-md-down"],["slot","start"],[3,"click"],["slot","end"],[1,"ion-hide-lg-up"],["id","back-arrow-icons","name","arrow-back",3,"click"],[1,"ion-justify-content-center"],["size","10"],["id","userfullname"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","15","spellcheck","true","wrap","soft","type","text","formControlName","reply",1,"reply-input",3,"placeholder","keydown.control.enter"],[2,"text-align","center","width","100%","margin-top","20px"],["type","submit",1,"orange-button",2,"margin","0 auto"]],template:function(t,e){1&t&&(p.TgZ(0,"ion-header",0),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",1),p.TgZ(3,"ion-buttons",1),p.TgZ(4,"ion-button",2),p.NdJ("click",function(){return e.cancel()}),p._uU(5," cancel "),p.qZA(),p.qZA(),p.qZA(),p.TgZ(6,"ion-title",3),p._uU(7,"Reply to Comment"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(8,"ion-header",4),p.TgZ(9,"ion-toolbar"),p.TgZ(10,"ion-icon",5),p.NdJ("click",function(){return e.cancel()}),p.qZA(),p.TgZ(11,"ion-title",3),p._uU(12,"Reply to Comment"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"ion-content"),p.TgZ(14,"ion-row",6),p.TgZ(15,"ion-col",7),p.TgZ(16,"p",8),p._uU(17),p.qZA(),p.TgZ(18,"form",9),p.NdJ("ngSubmit",function(){return e.replyCommentForm.value.reply.length>0?e.reply(e.replyCommentForm.value):null}),p.TgZ(19,"ion-textarea",10),p.NdJ("keydown.control.enter",function(){return e.replyCommentForm.value.reply.length>0?e.reply(e.replyCommentForm.value):null}),p.qZA(),p.TgZ(20,"div",11),p.TgZ(21,"ion-button",12),p._uU(22," Reply "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(17),p.Oqu(e.comment),p.xp6(1),p.Q6J("formGroup",e.replyCommentForm),p.xp6(1),p.MGl("placeholder","Replying to: ",e.userFullName,""))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.wd,r.gu,r.W2,r.Nd,r.wI,i._Y,i.JL,i.sg,r.g2,r.j9,i.JJ,i.u],styles:["ion-icon[_ngcontent-%COMP%]{color:#fff}.reply-input[_ngcontent-%COMP%]{background:#fff;margin:20px 0 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.reply-input[_ngcontent-%COMP%], .reply-input[_ngcontent-%COMP%]:hover{height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.reply-input[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}#comment[_ngcontent-%COMP%], #date[_ngcontent-%COMP%], #userfullname[_ngcontent-%COMP%]{font-size:1em}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]}),t})(),h=(()=>{class t{constructor(t,e,o,n,i,s){this.formBuilder=t,this.modal=e,this.navParams=o,this.loading=n,this.posts=i,this.alert=s}ngOnInit(){this.reportCommentForm=this.formBuilder.group({reportedReason:[""]}),this.commentID=this.navParams.get("commentID"),this.commentContents=this.navParams.get("commentContents"),this.post=this.navParams.get("post"),this.postID=this.navParams.get("postID"),this.commentUserFullName=this.navParams.get("commentUserFullName"),this.commentUserProfilePicture=this.navParams.get("commentUserProfilePicture"),this.commentUserEmail=this.navParams.get("commentUserEmail"),this.commentDate=this.navParams.get("commentDate"),this.userEmail=this.navParams.get("userEmail"),this.userFullName=this.navParams.get("userFullName")}report(){return(0,l.mG)(this,void 0,void 0,function*(){yield console.log("reporting comment..."),yield console.log(this.reportCommentForm.value.reportedReason),yield this.reportLoading(),yield this.posts.reportComment(this.commentID,this.commentContents,this.post,this.postID,this.commentUserFullName,this.commentUserProfilePicture,this.commentUserEmail,this.commentDate,this.userEmail,this.userFullName,this.reportCommentForm.value.reportedReason).subscribe()})}reportLoading(){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield this.loading.create({message:"Reporting comment...",duration:2e3});yield t.present(),yield t.onDidDismiss(),yield this.modal.dismiss(),yield this.confirmAlert(),console.log("Loading dismissed!")})}confirmAlert(){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield this.alert.create({header:"Report Sent",cssClass:"success-alert",message:"Thank you for reporting this user. Find Your Future will notifiy the user and take futher actions if necessary.",buttons:["OK"]});yield t.present()})}cancel(){console.log("cancelling comment..."),this.modal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(i.qu),p.Y36(r.IN),p.Y36(r.X1),p.Y36(r.HT),p.Y36(a.P),p.Y36(r.Br))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-report-comment"]],decls:27,vars:3,consts:[[1,"ion-hide-md-down"],["slot","end"],[3,"click"],["slot","start"],[1,"ion-hide-lg-up"],["id","back-arrow-icons","name","arrow-back",3,"click"],[1,"ion-justify-content-center",2,"margin-top","50px"],["size","10"],["id","userfullname"],[2,"background","#999"],["id","comment"],[1,"ion-justify-content-center"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","8","spellcheck","true","wrap","soft","type","text","placeholder","Why are you reporting this post?","formControlName","reportedReason",1,"report-input",3,"keyup.enter"],[2,"text-align","center","width","100%","margin-top","20px"],["type","submit",1,"orange-button",2,"margin","0 auto"]],template:function(t,e){1&t&&(p.TgZ(0,"ion-header",0),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",1),p.TgZ(3,"ion-button",2),p.NdJ("click",function(){return e.cancel()}),p._uU(4," cancel "),p.qZA(),p.qZA(),p.TgZ(5,"ion-title",3),p._uU(6,"Report Post"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"ion-header",4),p.TgZ(8,"ion-toolbar"),p.TgZ(9,"ion-icon",5),p.NdJ("click",function(){return e.cancel()}),p.qZA(),p.TgZ(10,"ion-title",1),p._uU(11,"Report Post"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(12,"ion-content"),p.TgZ(13,"ion-row",6),p.TgZ(14,"ion-col",7),p.TgZ(15,"p",8),p._uU(16),p.qZA(),p._UZ(17,"hr",9),p.TgZ(18,"p",10),p._uU(19),p.qZA(),p.qZA(),p.qZA(),p.TgZ(20,"ion-row",11),p.TgZ(21,"ion-col",7),p.TgZ(22,"form",12),p.NdJ("ngSubmit",function(){return e.report()}),p.TgZ(23,"ion-textarea",13),p.NdJ("keyup.enter",function(){return e.report()}),p.qZA(),p.TgZ(24,"div",14),p.TgZ(25,"ion-button",15),p._uU(26," Report "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(16),p.hij("User being Reported: ",e.commentUserFullName,""),p.xp6(3),p.hij("Comment: ",e.commentContents,""),p.xp6(3),p.Q6J("formGroup",e.reportCommentForm))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.wd,r.gu,r.W2,r.Nd,r.wI,i._Y,i.JL,i.sg,r.g2,r.j9,i.JJ,i.u],styles:[".report-input[_ngcontent-%COMP%]{background:#fff;margin:20px 0 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.report-input[_ngcontent-%COMP%], .report-input[_ngcontent-%COMP%]:hover{height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.report-input[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}#comment[_ngcontent-%COMP%]{color:#e4405f}#comment[_ngcontent-%COMP%], #date[_ngcontent-%COMP%], #userfullname[_ngcontent-%COMP%]{font-size:1em}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]}),t})(),f=(()=>{class t{constructor(t,e,o,n,i,s,r){this.formBuilder=t,this.modal=e,this.navParams=o,this.loading=n,this.posts=i,this.alert=s,this.postEmitterService=r}ngOnInit(){this.commentID=this.navParams.get("commentID"),this.commentContents=this.navParams.get("commentCotents"),this.postID=this.navParams.get("postID"),this.userEmail=this.navParams.get("userEmail"),console.log("post_id: "+this.postID),console.log(this.commentID),console.log(this.commentContents),console.log(this.userEmail),this.editCommentForm=this.formBuilder.group({newComment:this.commentContents})}cancel(){console.log("cancelling"),this.modal.dismiss()}refreshComment(){this.postEmitterService.postPageRefresh()}edit(t){console.log("editting"),console.log(t),this.posts.editComment(this.commentID,this.postID,t.newComment).subscribe(t=>{this.posts.getPostInfo(this.postID).subscribe(t=>{for(let e of t.comments)e.isUser=!1,e.canDeleteComment=!1,e.canReport=!0,e.userEmail===this.userEmail&&(e.isUser=!0,e.canDeleteComment=!0,e.canReport=!1),e.repliesLength=e.replies.length,e.date=(0,u.Z)(new Date(e.date),{includeSeconds:!0,addSuffix:!1});this.posts.commentsSubject$.next(t.comments.reverse())}),this.editLoading(t.newComment)})}editLoading(t){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield this.loading.create({message:"Editing your comment...",duration:2e3});yield t.present(),yield t.onDidDismiss(),yield this.modal.dismiss(),yield this.confirmAlert(),console.log("Loading dismissed!")})}confirmAlert(){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield this.alert.create({cssClass:"success-alert",message:"Your comment has been edited.",buttons:["OK"]});yield t.present()})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(i.qu),p.Y36(r.IN),p.Y36(r.X1),p.Y36(r.HT),p.Y36(a.P),p.Y36(r.Br),p.Y36(d.p))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-edit-comment"]],decls:20,vars:1,consts:[[1,"ion-hide-md-down"],["slot","end"],[3,"click"],["slot","start"],[1,"ion-hide-lg-up"],["id","back-arrow-icons","name","arrow-back",3,"click"],[1,"ion-justify-content-center"],["size","10"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","15","spellcheck","true","wrap","soft","type","text","formControlName","newComment",1,"comment-input",3,"keyup.enter"],[2,"text-align","center","width","100%","margin-top","20px"],["type","submit",1,"orange-button",2,"margin","0 auto"]],template:function(t,e){1&t&&(p.TgZ(0,"ion-header",0),p.TgZ(1,"ion-toolbar"),p.TgZ(2,"ion-buttons",1),p.TgZ(3,"ion-button",2),p.NdJ("click",function(){return e.cancel()}),p._uU(4," cancel "),p.qZA(),p.qZA(),p.TgZ(5,"ion-title",3),p._uU(6,"Edit Comment"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"ion-header",4),p.TgZ(8,"ion-toolbar"),p.TgZ(9,"ion-icon",5),p.NdJ("click",function(){return e.cancel()}),p.qZA(),p.TgZ(10,"ion-title",1),p._uU(11,"Edit Comment"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(12,"ion-content"),p.TgZ(13,"ion-row",6),p.TgZ(14,"ion-col",7),p.TgZ(15,"form",8),p.NdJ("ngSubmit",function(){return e.edit(e.editCommentForm.value)}),p.TgZ(16,"ion-textarea",9),p.NdJ("keyup.enter",function(){return e.edit(e.editCommentForm.value)}),p.qZA(),p.TgZ(17,"div",10),p.TgZ(18,"ion-button",11),p._uU(19," Edit "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(15),p.Q6J("formGroup",e.editCommentForm))},directives:[r.Gu,r.sr,r.Sm,r.YG,r.wd,r.gu,r.W2,r.Nd,r.wI,i._Y,i.JL,i.sg,r.g2,r.j9,i.JJ,i.u],styles:[".comment-input[_ngcontent-%COMP%]{background:#fff;margin:30px 0 60px;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.comment-input[_ngcontent-%COMP%], .comment-input[_ngcontent-%COMP%]:hover{height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}#back-arrow-icons[_ngcontent-%COMP%]{font-size:1.5em;position:relative;left:24px;top:8px}"]}),t})();var b=o(17518),x=o(28684),Z=o(20147),w=o(86812),C=o(26215);function P(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",4),p.NdJ("click",function(){return p.CHM(t),p.oxw().upVoteComment()}),p._UZ(1,"ion-icon",5),p._uU(2),p.qZA()}if(2&t){const t=p.oxw();p.xp6(2),p.hij(" ",t.upVoteLength," ")}}function v(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",4),p.NdJ("click",function(){return p.CHM(t),p.oxw().upVoteComment()}),p._UZ(1,"ion-icon",6),p._uU(2),p.qZA()}if(2&t){const t=p.oxw();p.xp6(2),p.hij(" ",t.upVoteLength," ")}}function y(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",7),p.NdJ("click",function(){return p.CHM(t),p.oxw().downVoteComment()}),p._UZ(1,"ion-icon",8),p._uU(2),p.qZA()}if(2&t){const t=p.oxw();p.xp6(2),p.hij(" ",t.downVoteLength," ")}}function _(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",7),p.NdJ("click",function(){return p.CHM(t),p.oxw().downVoteComment()}),p._UZ(1,"ion-icon",9),p._uU(2),p.qZA()}if(2&t){const t=p.oxw();p.xp6(2),p.hij(" ",t.downVoteLength," ")}}let A=(()=>{class t{constructor(t,e,o,n){this.posts=t,this.profile=e,this.toast=o,this.postEmitterService=n,this.upVoteCount$=new C.X(0),this.downVoteCount$=new C.X(0),this.currentUserUpvoted=!1,this.currentUserDownvoted=!1}ngOnInit(){return(0,l.mG)(this,void 0,void 0,function*(){this.posts.getPostInfo(this.postID).subscribe(t=>{t.comments.find(t=>{if(t._id===this.commentID)return this.upVoters=t.upvoters,this.downVoters=t.downvoters,this.upVotes=t.upvotes,this.downVotes=t.downvotes,this.upVoteCount$.next(this.upVotes),this.downVoteCount$.next(this.downVotes),this.upVoteLength=this.upVoteCount$.getValue(),void(this.downVoteLength=this.downVoteCount$.getValue())}),this.profile.getUserDetails().subscribe(t=>{let e=t.email,o=!1,n=!1;this.upVoters.find(function(t){if(t===e)return o=!0;console.log(t)}),this.downVoters.find(function(t){if(t===e)return n=!0}),console.log("Current user: ",e),this.userEmail=e,this.currentUserUpvoted=o,this.currentUserDownvoted=n})})})}refreshAfterComment(){this.postEmitterService.postPageRefresh()}upVoteComment(){this.posts.upVoteComment(this.postID,this.commentID,this.userEmail).subscribe(t=>{const e=t.upvotes,o=t.downvotes;if(console.log(t),this.upVoteCount$.next(e),this.downVoteCount$.next(o),this.currentUserUpvoted=!0,this.upVoteLength=this.upVoteCount$.getValue(),this.downVoteLength=this.downVoteCount$.getValue(),!0===this.currentUserUpvoted)return this.currentUserDownvoted=!1}),this.upVoteCommentToast(),this.refreshAfterComment()}upVoteCommentToast(){return(0,l.mG)(this,void 0,void 0,function*(){(yield this.toast.create({cssClass:"upvoted-toast",message:"You have UPVOTED this comment.",duration:2e3})).present()})}downVoteComment(){this.posts.downVoteComment(this.postID,this.commentID,this.userEmail).subscribe(t=>{const e=t.upvotes,o=t.downvotes;if(console.log(t),this.upVoteCount$.next(e),this.downVoteCount$.next(o),this.currentUserDownvoted=!0,this.upVoteLength=this.upVoteCount$.getValue(),this.downVoteLength=this.downVoteCount$.getValue(),!0===this.currentUserDownvoted)return this.currentUserUpvoted=!1}),this.downVoteCommentToast(),this.refreshAfterComment()}downVoteCommentToast(){return(0,l.mG)(this,void 0,void 0,function*(){(yield this.toast.create({cssClass:"downvoted-toast",message:"You have DOWNVOTED this comment.",duration:2e3})).present()})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(a.P),p.Y36(m.H),p.Y36(r.yF),p.Y36(d.p))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-comment-vote-bar"]],inputs:{postID:"postID",commentID:"commentID"},decls:6,vars:4,consts:[[2,"--background","none"],["slot","start"],["class","upvote",3,"click",4,"ngIf"],["class","downvote",3,"click",4,"ngIf"],[1,"upvote",3,"click"],["size","large","src","../assets/icon/caret-up-outline.svg"],["size","large","src","../assets/icon/caret-up-outline-active.svg"],[1,"downvote",3,"click"],["size","large","src","../assets/icon/caret-down-outline.svg"],["size","large","src","../assets/icon/caret-down-outline-active.svg"]],template:function(t,e){1&t&&(p.TgZ(0,"ion-toolbar",0),p.TgZ(1,"ion-buttons",1),p.YNc(2,P,3,1,"ion-button",2),p.YNc(3,v,3,1,"ion-button",2),p.YNc(4,y,3,1,"ion-button",3),p.YNc(5,_,3,1,"ion-button",3),p.qZA(),p.qZA()),2&t&&(p.xp6(2),p.Q6J("ngIf",!e.currentUserUpvoted),p.xp6(1),p.Q6J("ngIf",e.currentUserUpvoted),p.xp6(1),p.Q6J("ngIf",!e.currentUserDownvoted),p.xp6(1),p.Q6J("ngIf",e.currentUserDownvoted))},directives:[r.sr,r.Sm,n.O5,r.YG,r.gu],styles:[".upvote[_ngcontent-%COMP%]{border-radius:5px;width:60px;position:relative;--color:#005191}.upvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#005191;font-size:40px}.downvote[_ngcontent-%COMP%]{border-radius:5px;width:60px;padding-left:0;--color:#005191}.downvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#005191;--font-size:40px}.upvoted-toast[_ngcontent-%COMP%]{--background:#005191}.downvoted-toast[_ngcontent-%COMP%]{--background:#ffb351}.followed-toast[_ngcontent-%COMP%]{--background:#24d8a8}.unfollowed-toast[_ngcontent-%COMP%]{--background:#ffb351}"]}),t})();const T=["footerCommentInput"];function k(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-fab",50),p.TgZ(1,"ion-fab-button",51),p.NdJ("click",function(){return p.CHM(t),p.oxw().fabScrollTop()}),p._UZ(2,"ion-icon",52),p.qZA(),p.qZA()}}function q(t,e){if(1&t&&(p.TgZ(0,"p",53),p._uU(1),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.hij(" #",t," ")}}function I(t,e){1&t&&(p.TgZ(0,"ion-button",54),p._uU(1,"Post "),p.qZA())}function D(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",55),p.NdJ("click",function(){p.CHM(t);const e=p.oxw();return e.deletePost(e.postID)}),p._uU(1," Delete "),p.qZA()}}function U(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",56),p.NdJ("click",function(){p.CHM(t);const e=p.oxw();return e.editPost(e.postID,e.post)}),p._uU(1," Edit "),p.qZA()}}function z(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",57),p.NdJ("click",function(){p.CHM(t);const e=p.oxw();return e.follow(e.postID)}),p._uU(1," Follow "),p.qZA()}}function M(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",58),p.NdJ("click",function(){p.CHM(t);const e=p.oxw();return e.unFollow(e.postID)}),p._uU(1," Unfollow "),p.qZA()}}function O(t,e){1&t&&(p.TgZ(0,"ion-col",59),p.TgZ(1,"p",60),p._uU(2,"This post has no comments"),p.qZA(),p.qZA())}function N(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-col",61),p.TgZ(1,"ion-toolbar",62),p.TgZ(2,"p",63),p._uU(3),p.qZA(),p.TgZ(4,"ion-buttons",3),p.TgZ(5,"ion-button",51),p.NdJ("click",function(){return p.CHM(t),p.oxw().filterComments()}),p._UZ(6,"ion-icon",64),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=p.oxw();p.xp6(3),p.hij("Comments - ",t.comments.length,"")}}function E(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"p",81),p.NdJ("click",function(){p.CHM(t);const e=p.oxw().$implicit,o=p.oxw();return o.repliesModal(o.postID,e.replies,e.comment,e._id,e.userFullName,e.userEmail,e.date,e.userProfilePicture,o.userFullName,o.userEmail)}),p._uU(1),p.qZA()}if(2&t){const t=p.oxw().$implicit;p.xp6(1),p.hij("Replies - ",t.repliesLength,"")}}function S(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",82),p.NdJ("click",function(){p.CHM(t);const e=p.oxw().$implicit,o=p.oxw();return o.report(e._id,e.comment,o.post,o.postID,e.userFullName,e.userProfilePicture,e.userEmail,e.date)}),p._uU(1," Report "),p.qZA()}}function F(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",83),p.NdJ("click",function(){p.CHM(t);const e=p.oxw().$implicit,o=p.oxw();return o.editComment(e._id,e.comment,o.postID,o.userEmail)}),p._uU(1," Edit "),p.qZA()}}function Y(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-button",55),p.NdJ("click",function(){p.CHM(t);const e=p.oxw().$implicit;return p.oxw().deleteComment(e._id)}),p._uU(1," Delete "),p.qZA()}}function J(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"ion-col",65),p.TgZ(1,"ion-row"),p.TgZ(2,"ion-col"),p.TgZ(3,"ion-item",66),p.TgZ(4,"ion-avatar",67),p._UZ(5,"img",68),p.qZA(),p.TgZ(6,"ion-label"),p.TgZ(7,"h6",69),p._uU(8),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"ion-row",11),p.TgZ(10,"ion-col",70),p.TgZ(11,"p",71),p._uU(12),p.qZA(),p.qZA(),p.qZA(),p.TgZ(13,"ion-row",11),p.TgZ(14,"ion-col",70),p.YNc(15,E,2,1,"p",72),p.qZA(),p.qZA(),p.TgZ(16,"ion-row",73),p.TgZ(17,"ion-col",74),p._UZ(18,"app-comment-vote-bar",75),p.qZA(),p.TgZ(19,"ion-col",76),p.TgZ(20,"ion-toolbar",77),p.TgZ(21,"ion-buttons",3),p.TgZ(22,"ion-button",78),p.NdJ("click",function(){const e=p.CHM(t).$implicit,o=p.oxw();return o.repliesModal(o.postID,e.replies,e.comment,e._id,e.userFullName,e.userEmail,e.date,e.userProfilePicture,o.userFullName,o.userEmail)}),p._uU(23," Reply "),p.qZA(),p.YNc(24,S,2,0,"ion-button",79),p.YNc(25,F,2,0,"ion-button",80),p.YNc(26,Y,2,0,"ion-button",36),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=e.$implicit,o=p.oxw();p.xp6(5),p.s9C("src",t.userProfilePicture,p.LSH),p.xp6(3),p.AsE("",t.userFullName," - ",t.date," ago"),p.xp6(4),p.hij("",t.comment," "),p.xp6(3),p.Q6J("ngIf",t.repliesLength>=1),p.xp6(3),p.Q6J("postID",o.postID)("commentID",t._id),p.xp6(6),p.Q6J("ngIf",!0===t.canReport),p.xp6(1),p.Q6J("ngIf",!0===t.isUser),p.xp6(1),p.Q6J("ngIf",!0===t.canDeleteComment)}}const G=[{path:"",component:(()=>{class t{constructor(t,e,o,n,i,s,r,c,l,a,m,u,p){this.activatedRoute=t,this.postEmitterService=e,this.singlePostEmitterService=o,this.router=n,this.changeDetectorRef=i,this.posts=s,this.profile=r,this.formBuilder=c,this.toast=l,this.modal=a,this.alert=m,this.loading=u,this.location=p,this.tabBar=document.getElementById("myTabBar"),this.votes=document.getElementById("votes"),this.showFab=!1,this.following=!1,this.isUser=!1,this.scroll=""}ngOnDestroy(){this.singlePostEmitterService.subsVar.unsubscribe(),this.commentsSub.unsubscribe(),this.postsSub.unsubscribe(),this.userDetailsSub.unsubscribe(),this.postInfoSub.unsubscribe()}ngOnInit(){this.location.onPopState(()=>{this.postEmitterService.onBackAction()});const t=this.activatedRoute.snapshot.paramMap.get("_id");this.postID=t,this.getPostInfo(),null==this.singlePostEmitterService.subsVar&&(this.singlePostEmitterService.subsVar=this.singlePostEmitterService.invokeSinglePostPageRefresh.subscribe(()=>{this.getPostInfo(),console.log("Refreshing Replies")})),this.commentForm=this.formBuilder.group({comment:[""]}),this.commentsSub=this.posts.commentsSubject$.subscribe(t=>{this.comments=t}),this.postsSub=this.posts.postsSubject$.subscribe(t=>{let e;console.log(t);for(const o of t)o._id==this.postID&&(e=o);this.post=e.post})}back(){this.postEmitterService.onBackAction(),this.router.navigate(["/home/posts"])}refreshAfterComment(){this.postEmitterService.postPageRefresh()}refreshAfterDelete(){this.postEmitterService.postPageRefresh()}refreshAfterFollow(){this.postEmitterService.postPageRefresh()}follow(t){return(0,l.mG)(this,void 0,void 0,function*(){this.followPostSub=this.posts.followPost(t,this.userEmail),this.following=!0,yield this.followToast()})}followToast(){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield this.toast.create({cssClass:"followed-toast",message:"You are FOLLOWING this post",duration:2e3});yield this.refreshAfterDelete(),yield t.present()})}unFollow(t){return(0,l.mG)(this,void 0,void 0,function*(){this.unfollowPostSub=this.posts.unFollowPost(t,this.userEmail),this.following=!1,yield this.unFollowToast()})}unFollowToast(){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield this.toast.create({cssClass:"unfollowed-toast",message:"You are UNFOLLOWING this post",duration:2e3});yield this.refreshAfterDelete(),yield t.present()})}logScrolling(t){t.detail.currentY>=480&&(this.showFab=!0),t.detail.currentY<=480&&(this.showFab=!1)}ScrollToTop(){this.content.scrollToPoint(0,200,100),this.tabBar.style.height="0px",this.votes.style.height="0px"}fabScrollTop(){this.content.scrollToTop()}ScrollToPostedComment(){this.content.scrollToPoint(0,600,100),this.textarea.getInputElement().then(t=>{t.blur()})}onBlur(){this.textarea.getInputElement().then(t=>{this.tabBar.style.height="70px"})}blur(){this.textarea.getInputElement().then(t=>{t.blur(),this.tabBar.style.height="70px"})}filterComments(){}commentInput(t){console.log(t.detail.value),this.commentInputValue=t.detail.value}comment(t,e,o,n,i,s){return(0,l.mG)(this,void 0,void 0,function*(){let r;r=s?i:i.comment,console.log(this.footerCommentInput),this.footerCommentInput.value=null,this.commentLoading(t,e,o,n,r),this.toast.create({message:"Your comment has been added.",duration:1500}).then(t=>t.present())})}commentLoading(t,e,o,n,i){return(0,l.mG)(this,void 0,void 0,function*(){console.log(i),this.postsSub=this.posts.comment(t,e,o,n,i).subscribe(t=>{this.postInfoSub=this.posts.getPostInfo(this.postID).subscribe(t=>{for(let e of t.comments)console.log(e),e.isUser=!1,e.canDeleteComment=!1,e.canReport=!0,e.userEmail===this.userEmail&&(e.isUser=!0,e.canDeleteComment=!0,e.canReport=!1),e.repliesLength=e.replies.length,e.date=(0,u.Z)(new Date(e.date),{includeSeconds:!0,addSuffix:!1}),console.log(e.comment);this.posts.commentsSubject$.next(t.comments.reverse())})});const s=yield this.loading.create({message:"Adding Comment...",duration:1e3});yield this.refreshAfterComment(),yield s.present(),yield s.onDidDismiss()})}report(t,e,o,n,i,s,r,c){return(0,l.mG)(this,void 0,void 0,function*(){yield console.log("Attemping to report comment"),yield this.reportModal(t,e,o,n,i,s,r,c,this.userEmail,this.userFullName)})}reportModal(t,e,o,n,i,s,r,c,a,m){return(0,l.mG)(this,void 0,void 0,function*(){const l=yield this.modal.create({component:h,componentProps:{commentID:t,commentContents:e,post:o,postID:n,commentUserFullName:i,commentUserProfilePicture:s,commentUserEmail:r,commentDate:c,userEmail:a,userFullName:m}});yield l.present()})}reply(t,e,o,n,i,s,r){return(0,l.mG)(this,void 0,void 0,function*(){yield console.log("Attemping to reply to comment"),yield this.replyModal(t,this.postID,e,o,n,i,s,r)})}replyModal(t,e,o,n,i,s,r,c){return(0,l.mG)(this,void 0,void 0,function*(){const l=yield this.modal.create({component:g,componentProps:{commentID:t,postID:e,userFullName:o,userProfilePicture:i,userEmail:n,commentUserEmail:r,commentUserFullName:s,comment:c},cssClass:"reply-modal"});yield l.present()})}repliesModal(t,e,o,n,i,s,r,c,a,m){return(0,l.mG)(this,void 0,void 0,function*(){const l=yield this.modal.create({component:x.o,componentProps:{postID:t,replies:e,comment:o,commentID:n,commentUserFullName:i,commentUserEmail:s,commentDate:r,userProfilePicture:c,userFullName:a,userEmail:m},cssClass:"reply-modal"});yield l.present()})}editComment(t,e,o,n){return(0,l.mG)(this,void 0,void 0,function*(){yield console.log(t),yield console.log("Attemping to edit comment"),yield this.editCommentModal(t,e,o,n)})}editCommentModal(t,e,o,n){return(0,l.mG)(this,void 0,void 0,function*(){const i=yield this.modal.create({component:f,componentProps:{commentID:t,commentCotents:e,postID:o,userEmail:n}});yield i.present()})}editPost(t,e){return(0,l.mG)(this,void 0,void 0,function*(){yield console.log("Attemping to edit comment"),yield this.editPostModal(t,e)})}editPostModal(t,e){return(0,l.mG)(this,void 0,void 0,function*(){const o=yield this.modal.create({component:b.V,componentProps:{postID:t,post:e}});yield o.present()})}deleteComment(t){return(0,l.mG)(this,void 0,void 0,function*(){console.log("deleting comment.."),console.log(this.postID),console.log(t),this.deleteCommentAlert(this.postID,t)})}deleteCommentAlert(t,e){return(0,l.mG)(this,void 0,void 0,function*(){const t=yield this.alert.create({header:"Are you sure you want to delete this comment? This cannot be undone.",cssClass:"danger-alert",buttons:[{text:"Cancel",role:"cancel",handler:t=>{console.log("Confirm Cancel")}},{text:"Delete",handler:()=>{this.deleteCommentLoading(this.postID,e).catch(t=>{console.log(t)})}}]});yield t.present()})}deleteCommentLoading(t,e){return(0,l.mG)(this,void 0,void 0,function*(){this.deleteCommentSub=this.posts.deleteComment(this.postID,e).subscribe(t=>{let e=t.comments;for(const o of e)o.repliesLength=o.replies.length,o.isUser=!1,o.canDeleteComment=!1,o.canReport=!0,o.date=(0,u.Z)(new Date(o.date),{includeSeconds:!1,addSuffix:!1}),o.userEmail===this.userEmail&&(console.log("true"),o.isUser=!0,o.canDeleteComment=!0,o.canReport=!1);this.posts.commentsSubject$.next(e.reverse())});const t=yield this.loading.create({message:"Deleting Comment...",duration:2e3});yield t.present(),yield t.onDidDismiss(),console.log("Loading dismissed!"),this.changeDetectorRef.detectChanges()})}deletePost(t){return(0,l.mG)(this,void 0,void 0,function*(){console.log("deleting post.."),console.log(t),this.deletePostAlert(t)})}deletePostAlert(t){return(0,l.mG)(this,void 0,void 0,function*(){const e=yield this.alert.create({header:"Are you sure you want to delete this post? This cannot be undone.",cssClass:"danger-alert",buttons:[{text:"Cancel",role:"cancel",handler:t=>{console.log("Confirm Cancel")}},{text:"Delete",handler:()=>(0,l.mG)(this,void 0,void 0,function*(){yield this.deletePostLoading(t)})}]});yield e.present()})}deletePostLoading(t){return(0,l.mG)(this,void 0,void 0,function*(){console.log(t),this.deletePostSub=this.posts.deletePost(t).subscribe(t=>{this.posts.postsSubject$.next(Object.values(t).reverse()),console.log(this.posts.postsSubject$.getValue())}),this.postEmitterService.onBackAction(),this.router.navigate(["/home/posts"]),console.log("Loading dismissed!");const e=yield this.loading.create({message:"Deleting Comment...",duration:2e3});yield e.present(),yield e.onDidDismiss()})}getPostInfo(){this.userDetailsSub=this.profile.getUserDetails().subscribe(t=>{let e=t.email;this.userEmail=e;let o=t.fullName,n=t.profilePicture;this.postInfoSub=this.posts.getPostInfo(this.postID).subscribe(t=>{const i=t.creatorEmail,s=t.creatorName,r=t.creatorProfilePicture,c=t.title,l=t.post,a=t.followers,m=t.hashtags;let p=t.comments,d=!1,g=(0,u.Z)(new Date(t.date),{includeSeconds:!0,addSuffix:!1});i===this.userEmail&&(this.isUser=!0),a.find(function(t){t===e&&(d=!0)});for(const e of p){console.log(e),e.repliesLength=e.replies.length,e.isUser=!1,e.canDeleteComment=!1,e.canReport=!0,e.date=(0,u.Z)(new Date(e.date),{includeSeconds:!1,addSuffix:!1}),e.userEmail===this.userEmail&&(e.isUser=!0,e.canDeleteComment=!0,e.canReport=!1);for(let t=0;e.replies.length>t;t++)e.replies[t].date=(0,u.Z)(new Date(e.replies[t].date),{addSuffix:!1})}this.creatorName=s,this.creatorEmail=i,this.creatorProfilePicture=r,this.date=g,this.followers=a,this.hashtags=m,this.comments=p,this.following=d,this.post=l,this.title=c,this.userProfilePicture=n,this.userFullName=o})})}filterLanguage(t){const e=t;return e.replace("fuck","****"),e}doRefresh(t){return(0,l.mG)(this,void 0,void 0,function*(){this.userDetailsSub=this.profile.getUserDetails().subscribe(t=>{let e=t.email;this.userEmail=e;let o=t.fullName,n=t.profilePicture;this.postInfoSub=this.posts.getPostInfo(this.postID).subscribe(t=>{const i=t.creatorEmail,s=t.creatorName,r=t.post,c=t.title,l=t.followers;let a=t.comments,m=!1,p=(0,u.Z)(new Date(t.date),{includeSeconds:!0,addSuffix:!1});l.find(function(t){t===e&&(m=!0)});for(const e of a){e.repliesLength=e.replies.length,e.isUser=!1,e.canDeleteComment=!1,e.canReport=!0,e.date=(0,u.Z)(new Date(e.date),{includeSeconds:!0,addSuffix:!1}),e.userEmail===this.userEmail&&(e.isUser=!0,e.canDeleteComment=!0,e.canReport=!1);for(let t=0;e.replies.length>t;t++)e.replies[t].date=(0,u.Z)(new Date(e.replies[t].date),{addSuffix:!1});e.comment=this.filterLanguage(e.comment)}this.creatorName=s,this.creatorEmail=i,this.date=p,this.followers=l,this.comments=a,this.following=m,this.post=r,this.title=c,this.userProfilePicture=n,this.userFullName=o,this.posts.commentsSubject$.next(a.reverse())})}),yield setTimeout(()=>{const e=this.toast.create({message:"Page has been refreshed",duration:3e3});t.target.complete(),e.then(t=>t.present())},2e3)})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(c.gz),p.Y36(d.p),p.Y36(Z.U),p.Y36(c.F0),p.Y36(p.sBO),p.Y36(a.P),p.Y36(m.H),p.Y36(i.qu),p.Y36(r.yF),p.Y36(r.IN),p.Y36(r.Br),p.Y36(r.HT),p.Y36(n.lw))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-post-page"]],viewQuery:function(t,e){if(1&t&&(p.Gf(r.W2,7),p.Gf(r.g2,7),p.Gf(T,7)),2&t){let t;p.iGM(t=p.CRH())&&(e.content=t.first),p.iGM(t=p.CRH())&&(e.textarea=t.first),p.iGM(t=p.CRH())&&(e.footerCommentInput=t.first)}},decls:64,vars:22,consts:[["no-border","",1,"ion-hide-lg-up"],[1,"toolbar"],["slot","start"],["slot","end"],["height","30",1,"user-profile-picture",3,"src"],[3,"scrollEvents","ionScroll"],["slot","fixed",3,"ionRefresh"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"post","ion-justify-content-center"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6.5",1,"ion-hide-lg-down"],[1,"spacer"],[1,"ion-justify-content-center"],["pull-xl","0.5","pull-lg","0.5","size","0.75",1,"ion-text-center"],[2,"border-radius","100px","height","35xpx","width","35px",3,"src"],["pull-xl","0.4","pull-lg","0.4","size","9"],[1,"post-name"],[1,"post-date"],["size","1"],[1,"blue-button-small","ion-float-right",3,"click"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","5",1,"ion-hide-lg-up"],[1,"profile-picture",3,"src"],[2,"display","inline-block","margin-left","10px"],[2,"position","relative","top","-16px"],["class","hashtag",4,"ngFor","ngForOf"],[1,"hashtags"],[1,"header-hr"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6.5",2,"position","relative","top","-40px"],[1,"post-title"],[1,"post-content"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6.5"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","5","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment","formControlName","comment",1,"comment-input",3,"ionBlur","onfocusout","keydown.control.enter"],["style","float: right;","class","comment-post-button","type","submit","name","send",4,"ngIf"],["size-xs","11","size-sm","10","size-md","10","size-lg","4","push-xl","1.5","size-xl","6"],[3,"postID"],["size-xs","11","size-sm","10","size-md","10","size-lg","4","pull-xl","1.4","size-xl","3"],["class","delete ion-float-right",3,"click",4,"ngIf"],["class","edit ion-float-right","style","--background: none;",3,"click",4,"ngIf"],["class","follow ion-float-right",3,"click",4,"ngIf"],["class","delete ion-float-right","style","width: 80px",3,"click",4,"ngIf"],["class","ion-text-center","style","margin: 100px 0;","size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6",4,"ngIf"],["style","margin-bottom: 24px;","size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6",4,"ngIf"],["class","comment","size-xs","12","size-sm","10","size-md","10","size-lg","8","size-xl","6",4,"ngFor","ngForOf"],[1,"ion-hide-lg-up","add-comment-footer"],["size","10",2,"display","inline-block","height","40px"],["autocapitalize","true","rows","1","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment",2,"display","inline",3,"ionChange"],["footerCommentInput",""],["size","1",2,"display","inline-block","height","50px"],[2,"--background","none",3,"click"],["slot","start","name","send",2,"font-size","1.8em","color","#0055a5"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","arrow-up","size","large"],[1,"hashtag"],["type","submit","name","send",1,"comment-post-button",2,"float","right"],[1,"delete","ion-float-right",3,"click"],[1,"edit","ion-float-right",2,"--background","none",3,"click"],[1,"follow","ion-float-right",3,"click"],[1,"delete","ion-float-right",2,"width","80px",3,"click"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6",1,"ion-text-center",2,"margin","100px 0"],[2,"color","#888"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6",2,"margin-bottom","24px"],[1,"comments-toolbar-mobile","ion-hide-lg-up"],[1,"comments-header"],["slot","start","name","filter"],["size-xs","12","size-sm","10","size-md","10","size-lg","8","size-xl","6",1,"comment"],["lines","none"],["slot","start",1,"comment-avatar"],[3,"src"],[2,"opacity","0.5"],["size","11"],[1,"comment-text",2,"margin-top","40px"],["id","replies-link",3,"click",4,"ngIf"],[2,"margin-top","20px"],["size","4"],[3,"postID","commentID"],["push","1","size","6"],[2,"--background","none"],[1,"reply","ion-float-right",3,"click"],["class","report ion-float-right",3,"click",4,"ngIf"],["class","edit ion-float-right",3,"click",4,"ngIf"],["id","replies-link",3,"click"],[1,"report","ion-float-right",3,"click"],[1,"edit","ion-float-right",3,"click"]],template:function(t,e){1&t&&(p.TgZ(0,"ion-header",0),p.TgZ(1,"ion-toolbar",1),p.TgZ(2,"ion-buttons",2),p._UZ(3,"ion-back-button"),p.qZA(),p.TgZ(4,"ion-buttons",3),p._UZ(5,"img",4),p.qZA(),p.qZA(),p.qZA(),p.TgZ(6,"ion-content",5),p.NdJ("ionScroll",function(t){return e.logScrolling(t)}),p.TgZ(7,"ion-refresher",6),p.NdJ("ionRefresh",function(t){return e.doRefresh(t)}),p._UZ(8,"ion-refresher-content"),p.qZA(),p.YNc(9,k,3,0,"ion-fab",7),p.TgZ(10,"ion-grid"),p.TgZ(11,"ion-row",8),p.TgZ(12,"ion-col",9),p._UZ(13,"div",10),p.TgZ(14,"ion-row",11),p.TgZ(15,"ion-col",12),p._UZ(16,"img",13),p.qZA(),p.TgZ(17,"ion-col",14),p.TgZ(18,"p",15),p._uU(19),p.qZA(),p.TgZ(20,"p",16),p._uU(21),p.qZA(),p.qZA(),p.TgZ(22,"ion-col",17),p.TgZ(23,"ion-button",18),p.NdJ("click",function(){return e.back()}),p._uU(24," Back "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(25,"ion-col",19),p._UZ(26,"img",20),p.TgZ(27,"div",21),p.TgZ(28,"p",15),p._uU(29),p.qZA(),p.TgZ(30,"p",16),p._uU(31),p.qZA(),p.TgZ(32,"div",22),p.YNc(33,q,2,1,"p",23),p.qZA(),p.qZA(),p._UZ(34,"div",24),p._UZ(35,"hr",25),p.qZA(),p.TgZ(36,"ion-col",26),p.TgZ(37,"p",27),p._uU(38),p.qZA(),p.TgZ(39,"p",28),p._uU(40),p.qZA(),p.qZA(),p.TgZ(41,"ion-col",29),p.TgZ(42,"form",30),p.NdJ("ngSubmit",function(){return e.comment(e.postID,e.userFullName,e.userEmail,e.userProfilePicture,e.commentForm.value,e.commentInputValue)}),p.TgZ(43,"ion-textarea",31),p.NdJ("ionBlur",function(){return e.onBlur()})("onfocusout",function(){return e.blur()})("keydown.control.enter",function(){return e.comment(e.postID,e.userFullName,e.userEmail,e.userProfilePicture,e.commentForm.value.comment,!1)&&e.ScrollToPostedComment()}),p.qZA(),p.YNc(44,I,2,0,"ion-button",32),p.qZA(),p.qZA(),p.TgZ(45,"ion-col",33),p._UZ(46,"app-up-down-vote-buttons",34),p.qZA(),p.TgZ(47,"ion-col",35),p.YNc(48,D,2,0,"ion-button",36),p.YNc(49,U,2,0,"ion-button",37),p.YNc(50,z,2,0,"ion-button",38),p.YNc(51,M,2,0,"ion-button",39),p.qZA(),p.qZA(),p.TgZ(52,"ion-row",11),p.YNc(53,O,3,0,"ion-col",40),p.YNc(54,N,7,1,"ion-col",41),p.YNc(55,J,27,10,"ion-col",42),p.qZA(),p.qZA(),p.qZA(),p.TgZ(56,"ion-footer",43),p.TgZ(57,"ion-row",11),p.TgZ(58,"ion-col",44),p.TgZ(59,"ion-textarea",45,46),p.NdJ("ionChange",function(t){return e.commentInput(t)}),p.qZA(),p.qZA(),p.TgZ(61,"ion-col",47),p.TgZ(62,"ion-button",48),p.NdJ("click",function(){return e.comment(e.postID,e.userFullName,e.userEmail,e.userProfilePicture,e.commentInputValue,!0)&&e.ScrollToPostedComment()}),p._UZ(63,"ion-icon",49),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(5),p.Q6J("src",e.userProfilePicture,p.LSH),p.xp6(1),p.Q6J("scrollEvents",!0),p.xp6(3),p.Q6J("ngIf",e.showFab),p.xp6(7),p.s9C("src",e.creatorProfilePicture,p.LSH),p.xp6(3),p.Oqu(e.creatorName),p.xp6(2),p.Oqu(e.date),p.xp6(5),p.s9C("src",e.creatorProfilePicture,p.LSH),p.xp6(3),p.Oqu(e.creatorName),p.xp6(2),p.hij("Posted ",e.date," ago"),p.xp6(2),p.Q6J("ngForOf",e.hashtags),p.xp6(5),p.Oqu(e.title),p.xp6(2),p.Oqu(e.post),p.xp6(2),p.Q6J("formGroup",e.commentForm),p.xp6(2),p.Q6J("ngIf",!e.commentForm.get("comment").pristine&&e.commentForm.value.comment.length>=3),p.xp6(2),p.Q6J("postID",e.postID),p.xp6(2),p.Q6J("ngIf",!0===e.isUser),p.xp6(1),p.Q6J("ngIf",!0===e.isUser),p.xp6(1),p.Q6J("ngIf",!1===e.isUser&&!e.following),p.xp6(1),p.Q6J("ngIf",!1===e.isUser&&e.following),p.xp6(2),p.Q6J("ngIf",0===e.comments.length),p.xp6(1),p.Q6J("ngIf",e.comments.length>0),p.xp6(1),p.Q6J("ngForOf",e.comments))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.W2,r.nJ,r.Wo,n.O5,r.jY,r.Nd,r.wI,r.YG,n.sg,i._Y,i.JL,i.sg,r.g2,r.j9,i.JJ,i.u,w.g,r.fr,r.gu,r.IJ,r.W4,r.Ie,r.BJ,r.Q$,A],styles:[".header-hr[_ngcontent-%COMP%]{border-top:1px solid #666;opacity:.3;margin-top:10px}.user-profile-picture[_ngcontent-%COMP%]{height:40px;width:40px;margin-right:8px;border-radius:50px}.post[_ngcontent-%COMP%]{margin-bottom:40px;background:#0055a5;padding:20px 0}.comments-header[_ngcontent-%COMP%]{color:#0055a5;font-size:1.4em;font-weight:600}.add-comment-footer[_ngcontent-%COMP%]{background:rgba(213,232,236,.3);height:80px;font-size:1.3em;border-top:6px solid #0055a5;padding-top:4px}.post-title[_ngcontent-%COMP%]{color:#67b5ff;padding-top:24px;margin-bottom:64px;font-size:1.4em;font-weight:600;border-top:3px solid #fff}.profile-picture[_ngcontent-%COMP%]{border-radius:100px;height:35px;width:35px;position:relative;top:-18px;display:inline-block}.post-name[_ngcontent-%COMP%]{font-size:1.6em;display:inline-block}.post-date[_ngcontent-%COMP%], .post-name[_ngcontent-%COMP%]{color:#fff;font-weight:600;margin:0}.post-date[_ngcontent-%COMP%]{opacity:.8;font-size:1em;display:block}.blue-button-small[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;--background-hover:linear-gradient(#0055a5,#0055a2);height:24px;width:100px;font-size:.5em;font-weight:600;display:block}.hashtags[_ngcontent-%COMP%]{position:relative;top:-32px}.hashtag[_ngcontent-%COMP%]{font-size:1.3em;font-weight:600;display:inline-block;margin-right:5px;color:#ea8400}.post-mobile[_ngcontent-%COMP%]{margin-bottom:90px;box-shadow:none}.post-mobile[_ngcontent-%COMP%], .post-mobile[_ngcontent-%COMP%]:hover{transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275);background:#fff}.post-mobile[_ngcontent-%COMP%]:hover{margin-bottom:120px;box-shadow:1px 1px 3px #999;border-radius:5px}@media only screen and (max-width: 576px){.profile-picture[_ngcontent-%COMP%]{height:65px;width:65px}}x[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]{font-size:1.15em;line-height:28px;color:#fff}.back-button[_ngcontent-%COMP%]{--color:#fff;--background:linear-gradient(#0672c4,#0055a5);font-weight:800;display:inline-block;width:100px;margin-top:20px}.comment-post-button[_ngcontent-%COMP%]{--background:#00c400;--background-hover:red;height:54px;margin-top:10px;opacity:0;font-size:1.4em;font-weight:600;width:100%;transform:.2s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275);-webkit-animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards}.unfollow-button[_ngcontent-%COMP%]{--color:#fff;--background:linear-gradient(#faa71b,#e99b14);font-weight:900;display:inline-block;width:100px;margin-top:20px}.comments-toolbar-mobile[_ngcontent-%COMP%]{--background:none}.comments-toolbar-mobile[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0055a5;font-size:2.2em}.comment[_ngcontent-%COMP%]{background:#fff;height:auto;opacity:0;margin:0 8px;box-shadow:1px 10px 10px rgba(0,0,0,.05);border-top:3px solid #d7d7d7;border-radius:5px;padding-left:10px;transition:.5s;-webkit-animation:post-button-slide-up .5s cubic-bezier(.175,.885,.32,1.275) .5s forwards;animation:post-button-slide-up .5s cubic-bezier(.175,.885,.32,1.275) .5s forwards}.follow-button[_ngcontent-%COMP%]{height:36px;opacity:0;--background:#24d8a8;--color:#fff;--border-style:solid;--border-width:1px;--border-color:linear-gradient(#797,#799);-webkit-animation:post-button-slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;animation:post-button-slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;font-weight:900;width:100px}.delete-button[_ngcontent-%COMP%]{--color:#fff;--background:linear-gradient(#ff443b,#ce3028);font-weight:800;display:inline-block;width:100px;margin-top:20px}.upvote[_ngcontent-%COMP%]{border-radius:5px;width:80px;padding-left:0;--color:#fff}.upvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{--color:#fff;font-size:48px}.downvote[_ngcontent-%COMP%]{border-radius:5px;width:50px;padding-left:0;--color:#0055a5}.downvote[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0055a5;--font-size:40px}.reply[_ngcontent-%COMP%]{--border-width:3px;--border-color:#0055a5;--border-style:solid;--color:#0055a5}.reply[_ngcontent-%COMP%], .report[_ngcontent-%COMP%]{width:60px;border-radius:5px;font-size:.7em;font-weight:900;margin-right:10px}.report[_ngcontent-%COMP%]{--border-width:3px;--border-color:#666;--border-style:solid;--color:#888}.edit[_ngcontent-%COMP%]{--border-width:3px;--border-color:#faa71b;--border-style:solid;--color:#faa71b}.delete[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]{width:60px;border-radius:5px;font-size:.7em;font-weight:900;margin-right:10px}.delete[_ngcontent-%COMP%]{--background:#faa71b;--color:#fff}.follow[_ngcontent-%COMP%]{--border-width:3px;width:80px;--border-color:linear-gradient(#24d8a8,#1baf88);--border-style:solid;border-radius:5px;--color:#fff;--background:linear-gradient(#5ad8b2,#40c59d);font-size:.7em;font-weight:900;margin-right:10px}ion-title[_ngcontent-%COMP%]{color:#0055a5}.toolbar[_ngcontent-%COMP%]{--background:#0055a5}ion-item[_ngcontent-%COMP%]{--background:none}ion-fab[_ngcontent-%COMP%]{opacity:0;padding-right:2%;-webkit-animation:fab-slide-up .5s ease-out forwards;animation:fab-slide-up .5s ease-out forwards}ion-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{--color-activated:#fff;--background-activated:#ffb351;--background:#fff}ion-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#0055a5}@-webkit-keyframes fab-slide-up{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(-30px)}}@keyframes fab-slide-up{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(-30px)}}.post-header[_ngcontent-%COMP%]{background:hsla(0,0%,96%,.8);padding:10px 0}.header-avatar[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50px}.comment-form[_ngcontent-%COMP%]{background:none;margin-bottom:20px;padding:20px 0}.comment-text[_ngcontent-%COMP%]{color:#222;font-size:1.2em}.reply-wrapper[_ngcontent-%COMP%]{position:relative;top:10px;margin-bottom:5px}.reply-text[_ngcontent-%COMP%]{color:#222;font-size:1em;margin:0 0 20px}.reply-link[_ngcontent-%COMP%]{color:#0055a5}.comment-avatar[_ngcontent-%COMP%]{height:30px;width:30px;border-radius:50px}.comment-input[_ngcontent-%COMP%]{background:rgba(213,232,236,.3);height:auto;margin:20px 0 10px;box-shadow:none;padding-left:10px;border:3px solid #faa71b;color:#fff;font-size:1.3em;border-radius:2px;transition:1s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:focus{background:rgba(250,167,27,.04);height:auto;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px;padding-left:10px;transition:.5s}#reply-date[_ngcontent-%COMP%]{font-size:.7em;color:#999}#replies-link[_ngcontent-%COMP%]{color:#0055a5;font-weight:500}form[_ngcontent-%COMP%]{width:100%}@-webkit-keyframes send-icon-slide-in{0%{transform:translateX(10px);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes send-icon-slide-in{0%{transform:translateX(10px);opacity:0}to{transform:translateX(0);opacity:1}}@-webkit-keyframes post-button-slide-up{0%{transform:translateY(0);opacity:0}to{transform:translateY(-20px);opacity:1}}@keyframes post-button-slide-up{0%{transform:translateY(0);opacity:0}to{transform:translateY(-20px);opacity:1}}@-webkit-keyframes comment-slide-up{0%{transform:translateY(0);opacity:0}to{transform:translateY(-20px);opacity:1}}@keyframes comment-slide-up{0%{transform:translateY(0);opacity:0}to{transform:translateY(-20px);opacity:1}}"]}),t})()}];let V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[c.Bz.forChild(G)],c.Bz]}),t})();const R=[{path:"",component:g}];let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[c.Bz.forChild(R)],c.Bz]}),t})(),B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[n.ez,i.u5,i.UX,r.Pc,L]]}),t})();const j=[{path:"",component:h}];let $=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[c.Bz.forChild(j)],c.Bz]}),t})(),H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[n.ez,i.u5,i.UX,r.Pc,$]]}),t})();const Q=[{path:"",component:f}];let X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[c.Bz.forChild(Q)],c.Bz]}),t})(),W=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[n.ez,i.u5,i.UX,r.Pc,X]]}),t})();var K=o(15599),tt=o(40532);let et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[n.ez,i.u5,i.UX,r.Pc,V,s.c,B,H,W,K.EditPostPageModule,tt.RepliesPagePageModule]]}),t})()}}]);