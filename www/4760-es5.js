!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(self.webpackChunkfind_you_future_app=self.webpackChunkfind_you_future_app||[]).push([[4760],{14760:function(n,o,r){"use strict";r.r(o),r.d(o,{UpdateResumePageModule:function(){return b}});var i,s,a=r(38583),u=r(90665),c=r(19039),l=r(21382),d=r(64762),m=r(39181),p=r(14153),g=r(88720),f=[{path:"",component:(i=function(){function n(t,o,r,i,s,a){e(this,n),this.resume=t,this.router=o,this.profile=r,this.alert=i,this.toast=s,this.loading=a,this.userProPicUrl=this.profile.resume.getValue(),this.awsPrefix=this.userProPicUrl.slice(-51)}var o,r,i;return o=n,(r=[{key:"ngOnInit",value:function(){var e=this;this.profile.getUserDetails().subscribe(function(t){e.userEmail=t.email,console.log(e.userEmail)})}},{key:"goBack",value:function(){this.router.navigate(["/home/profile/view-resume"])}},{key:"getFormData",value:function(e){var t=this,n=document.querySelectorAll("form");n.forEach(function(e){"changeResumeForm"===e.id&&(console.log("Got Form: "+e),t.formData=new FormData(e),t.uploadedResume=!0)}),console.log(this.formData);var o=new FileReader;o.addEventListener("load",function(){t.uploadedPhotoURL=o.result},!1),n&&o.readAsDataURL(e.target.files[0])}},{key:"uploadResume",value:function(){var e=this;document.querySelectorAll("form").forEach(function(t){"changeResumeForm"===t.id&&(console.log("Got Form: "+t),e.formData=new FormData(t),e.formData.append("oldResumeKey",e.awsPrefix),e.formData.append("email",e.userEmail))}),this.resume.changeResume(this.formData).subscribe(function(t){return(0,d.mG)(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=t.objectUrl,console.log(n),e.next=5,this.presentLoading();case 5:return e.next=7,this.profile.resume.next(n);case 7:return e.next=9,this.presentToast();case 9:return e.next=11,this.router.navigate(["/home/profile/view-resume"]);case 11:case"end":return e.stop()}},e,this)}))})}},{key:"presentToast",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toast.create({message:"Your Resume has been changed",animated:!0,cssClass:"updated-toast",duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"presentLoading",value:function(){return(0,d.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loading.create({cssClass:"my-custom-class",message:"Updating Resume...",duration:1e3});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.next=7,t.onDidDismiss();case 7:console.log("Loading dismissed!");case 8:case"end":return e.stop()}},e,this)}))}}])&&t(o.prototype,r),i&&t(o,i),n}(),i.\u0275fac=function(e){return new(e||i)(g.Y36(p.B),g.Y36(l.F0),g.Y36(m.H),g.Y36(c.Br),g.Y36(c.yF),g.Y36(c.HT))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-update-resume"]],decls:27,vars:1,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"padding-top","80px","margin-bottom","40px"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[1,"desktop-toolbar"],["slot","end"],[1,"back-button",3,"click"],[1,"ion-justify-content-center"],["size-xs","12","size-sm","10","size-md","8","size-lg","6","size-xl","6",1,"ion-text-center"],[1,"text-header"],["size-xs","11","size-sm","10","size-md","8","size-lg","4",1,"ion-text-center"],["id","changeResumeForm",3,"ngSubmit"],["name","resume-update","placeholder","Upload Resume","type","file",3,"change"],["type","submit",1,"orange-button",3,"disabled"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-header",0),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-buttons",1),g._UZ(3,"ion-back-button"),g.qZA(),g.TgZ(4,"ion-title"),g._uU(5,"Update Resume"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(6,"ion-content"),g.TgZ(7,"ion-grid"),g.TgZ(8,"ion-row",2),g.TgZ(9,"ion-col",3),g.TgZ(10,"ion-toolbar",4),g.TgZ(11,"ion-buttons",1),g.TgZ(12,"h1"),g._uU(13,"Update Resume "),g.qZA(),g.qZA(),g.TgZ(14,"ion-buttons",5),g.TgZ(15,"ion-button",6),g.NdJ("click",function(){return t.goBack()}),g._uU(16," Back "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"ion-row",7),g.TgZ(18,"ion-col",8),g.TgZ(19,"h6",9),g._uU(20,"Please upload a resume from your phone"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"ion-row",7),g.TgZ(22,"ion-col",10),g.TgZ(23,"form",11),g.NdJ("ngSubmit",function(){return t.uploadResume()}),g.TgZ(24,"input",12),g.NdJ("change",function(e){return t.getFormData(e)}),g.qZA(),g.TgZ(25,"ion-button",13),g._uU(26,"Update "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(25),g.Q6J("disabled",!t.uploadedPhotoURL))},directives:[c.Gu,c.sr,c.Sm,c.oU,c.cs,c.wd,c.W2,c.jY,c.Nd,c.wI,c.YG,u._Y,u.JL,u.F],styles:[".desktop-toolbar[_ngcontent-%COMP%]{--background:none;padding-bottom:16px;border-bottom:1px solid #33333326}.desktop-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0055a5}.back-button[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;--background-hover:linear-gradient(#0055a5,#0d2e4d);height:24px;--border-radius:5px;width:100px;font-size:.5em;font-weight:600;display:block}.text-header[_ngcontent-%COMP%]{background:#e4ebf1}input[type=file][_ngcontent-%COMP%]{color:#fff;font-size:1.2em;font-weight:600;border:1px solid #005191;background:linear-gradient(#0672c4,#005191);width:400px;height:50px;border-radius:5px;padding:20px 0 0 20px;text-align:center;cursor:pointer}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{visibility:hidden}"]}),i)}],h=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[l.Bz.forChild(f)],l.Bz]}),t}(),b=((s=function t(){e(this,t)}).\u0275fac=function(e){return new(e||s)},s.\u0275mod=g.oAB({type:s}),s.\u0275inj=g.cJS({imports:[[a.ez,u.u5,c.Pc,h]]}),s)}}])}();