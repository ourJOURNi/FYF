(self.webpackChunkfind_you_future_app=self.webpackChunkfind_you_future_app||[]).push([[3579],{43579:function(t,o,n){"use strict";n.r(o),n.d(o,{FollowingPageModule:function(){return k}});var e=n(38583),i=n(90665),s=n(64941),r=n(19039),c=n(21382),a=n(64762),l=n(69166),p=n(39181),g=n(79778),u=n(20445),d=n(88720),m=n(50806),h=n(86812),f=n(56264);function b(t,o){1&t&&(d.TgZ(0,"ion-col",16),d.TgZ(1,"div"),d.TgZ(2,"p",17),d._uU(3,"You currently do not have any posts. Please click the Add Post button to create a Post."),d.qZA(),d.qZA(),d.qZA())}function x(t,o){if(1&t&&(d.TgZ(0,"p",43),d._uU(1),d.qZA()),2&t){const t=o.$implicit;d.xp6(1),d.hij(" #",t," ")}}function P(t,o){1&t&&(d.TgZ(0,"p",44),d._uU(1," No #hashtags for this post "),d.qZA())}function Z(t,o){1&t&&(d.TgZ(0,"span",45),d._uU(1,"..."),d.qZA())}function _(t,o){if(1&t){const t=d.EpF();d.TgZ(0,"button",46),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).alterDescriptionText()}),d._uU(1),d.qZA()}if(2&t){const t=d.oxw(2);d.xp6(1),d.hij(" ",t.showShortDesciption?"SHOW ALL":"SHOW LESS"," ")}}function w(t,o){1&t&&(d.TgZ(0,"ion-button",47),d._uU(1,"Post Comment "),d.qZA())}const O=function(t){return{"show-less":t}};function C(t,o){if(1&t){const t=d.EpF();d.TgZ(0,"div",18),d.TgZ(1,"ion-row",19),d.TgZ(2,"ion-col",20),d._UZ(3,"img",21),d.qZA(),d.TgZ(4,"ion-col",22),d.TgZ(5,"p",23),d._uU(6),d.qZA(),d.TgZ(7,"p",24),d._uU(8),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"ion-row",19),d.TgZ(10,"ion-col",25),d.TgZ(11,"p",26),d._uU(12),d.qZA(),d.TgZ(13,"div",27),d.YNc(14,x,2,1,"p",28),d.qZA(),d.YNc(15,P,2,0,"p",29),d.TgZ(16,"p",30),d._uU(17),d.qZA(),d.YNc(18,Z,2,0,"span",31),d.YNc(19,_,2,1,"button",32),d.qZA(),d.qZA(),d.TgZ(20,"ion-row",19),d.TgZ(21,"ion-col",33),d.TgZ(22,"ion-item",34),d.TgZ(23,"form",35),d.NdJ("ngSubmit",function(){const o=d.CHM(t).$implicit,n=d.oxw();return n.comment(o._id,n.userFullName,n.userEmail,n.userProfilePicture,n.commentForm.value)}),d._UZ(24,"ion-textarea",36,37),d.YNc(26,w,2,0,"ion-button",38),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(27,"ion-row",19),d.TgZ(28,"ion-col",39),d._UZ(29,"app-up-down-vote-buttons",40),d.qZA(),d.TgZ(30,"ion-col",41),d._UZ(31,"app-follow-comment-buttons",42),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=o.$implicit,n=d.MAs(25),e=d.oxw();d.xp6(3),d.s9C("src",t.creatorProfilePicture,d.LSH),d.xp6(3),d.Oqu(t.creatorName),d.xp6(2),d.Oqu(t.date),d.xp6(4),d.Oqu(t.title),d.xp6(2),d.Q6J("ngForOf",t.hashtags),d.xp6(1),d.Q6J("ngIf",0===t.hashtags.length),d.xp6(1),d.Q6J("ngClass",d.VKq(16,O,e.showShortDesciption)),d.xp6(1),d.Oqu(t.post),d.xp6(1),d.Q6J("ngIf",t.post.length>400&&e.showShortDesciption),d.xp6(1),d.Q6J("ngIf",t.post.length>400),d.xp6(4),d.Q6J("formGroup",e.commentForm),d.xp6(3),d.Q6J("ngIf",n.value.length>=2),d.xp6(3),d.Q6J("postID",t._id)("postEmail",t.creatorEmail),d.xp6(2),d.Q6J("postID",t._id)("commentLength",t.comments.length)}}const M=[{path:"",component:(()=>{class t{constructor(t,o,n,e,i,s,r,c){this.router=t,this.posts=o,this.profile=n,this.toast=e,this.formBuilder=i,this.eventEmitterService=s,this.modal=r,this.location=c,this.showShortDesciption=!0,this.allFollowedPosts=[]}ngOnInit(){this.location.onPopState(()=>{this.eventEmitterService.onBackAction()}),this.profile.getUserDetails().subscribe(t=>{console.log("User ID from Following Page OnInit"),this.userID=t._id,this.userFullName=t.fullName,this.userEmail=t.email,this.userProfilePicture=t.profilePicture,this.posts.getFollowedPost(this.userID).subscribe(t=>{this.allFollowedPosts=Object.values(t).reverse(),console.log(t);for(const o of this.allFollowedPosts)o.date=(0,g.Z)(new Date(o.date),"MMMM do, yyyy");return this.allFollowedPosts})}),console.log("Got Followed Posts"),this.commentForm=this.formBuilder.group({comment:[""]})}alterDescriptionText(){this.showShortDesciption=!this.showShortDesciption}postPage(t){this.router.navigate(["/home/posts/post-page",t._id])}addPost(){this.router.navigate(["/home/posts/add-post"])}back(){this.eventEmitterService.onBackAction(),this.router.navigate(["/home/posts"])}comment(t,o,n,e,i){return(0,a.mG)(this,void 0,void 0,function*(){this.commentForm.reset(),yield Date.now(),console.log("Posting comment"),console.log("Post ID: "+t),yield this.posts.comment(t,this.userFullName,this.userEmail,this.userProfilePicture,i).subscribe(()=>{this.posts.getPostInfo(t).subscribe(o=>{this.posts.getPostInfo(t).subscribe(t=>{for(let o of t.comments)console.log(o),o.isUser=!1,o.canDeleteComment=!1,o.canReport=!0,o.userEmail===this.userEmail&&(o.isUser=!0,o.canDeleteComment=!0,o.canReport=!1),o.repliesLength=o.replies.length,o.date=(0,u.Z)(new Date(o.date),{includeSeconds:!0,addSuffix:!1});this.posts.commentsSubject$.next(t.comments.reverse())})})}),yield this.posts.getPostInfo(t).subscribe(t=>{for(let o of t.comments)o.date=(0,u.Z)(new Date(o.date),{includeSeconds:!0,addSuffix:!0});this.posts.commentsSubject$.next(t.comments.reverse())}),this.toast.create({message:"Your comment has been added.",duration:1500}).then(t=>t.present()),yield this.router.navigate(["/home/posts/post-page",t])})}doRefresh(t){return(0,a.mG)(this,void 0,void 0,function*(){this.profile.getUserDetails().subscribe(t=>{console.log("User ID from Following Page OnInit"),this.userID=t._id,this.userFullName=t.fullName,this.userEmail=t.email,this.userProfilePicture=t.profilePicture,this.posts.getFollowedPost(this.userID).subscribe(t=>{this.allFollowedPosts=Object.values(t).reverse(),console.log(t);for(const o of this.allFollowedPosts)o.date=(0,g.Z)(new Date(o.date),"MMMM do, yyyy");return this.allFollowedPosts})}),yield setTimeout(()=>{const o=this.toast.create({message:"Inspiration Page has been refreshed",duration:3e3});t.target.complete(),o.then(t=>t.present())},2e3)})}}return t.\u0275fac=function(o){return new(o||t)(d.Y36(c.F0),d.Y36(l.P),d.Y36(p.H),d.Y36(r.yF),d.Y36(i.qu),d.Y36(m.p),d.Y36(r.IN),d.Y36(e.lw))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-following"]],decls:28,vars:2,consts:[[1,"ion-hide-lg-up"],["slot","start"],["vertical","bottom","horizontal","end","slot","fixed",1,"ion-hide-lg-up"],[3,"click"],["name","add","size","large"],["slot","fixed",3,"ionRefresh"],[1,"ion-hide-md-down"],[1,"ion-hide-lg-down","ion-justify-content-center",2,"padding-top","80px","margin-bottom","40px"],["size-xs","11","size-sm","10","size-md","10","size-lg","8","size-xl","6"],[1,"desktop-toolbar"],["slot","end"],[1,"add-button",3,"click"],[1,"blue-button",3,"click"],[1,"ion-justify-content-center",2,"margin-top","1%"],["class","no-posts ion-align-items-center","size-xs","11","size-sm","9","size-md","8","size-lg","7",4,"ngIf"],["class","post","style","margin-top: 1%;",4,"ngFor","ngForOf"],["size-xs","11","size-sm","9","size-md","8","size-lg","7",1,"no-posts","ion-align-items-center"],[2,"font-size","1.2em"],[1,"post",2,"margin-top","1%"],[1,"ion-justify-content-center"],["size","1"],[2,"background","#999","border-radius","100px","height","35xpx","width","35px",3,"src"],["size","10"],[1,"post-name"],[1,"post-date"],["size","11"],[1,"post-title"],[1,"hashtags"],["class","hashtag",4,"ngFor","ngForOf"],["class","no-tags",4,"ngIf"],[1,"post-content",3,"ngClass"],["class","ellipsis",4,"ngIf"],["class","show-more-or-less-button","type","button",3,"click",4,"ngIf"],["size","12"],["lines","none",2,"height","auto"],[3,"formGroup","ngSubmit"],["autogrow","true","autocapitalize","true","rows","5","spellcheck","true","wrap","soft","type","text","placeholder","Add a Comment","formControlName","comment",1,"comment-input-mobile"],["postComment",""],["style","float: right;","class","comment-post-button","name","send","type","submit",4,"ngIf"],["size","8"],[3,"postID","postEmail"],["size","3"],[3,"postID","commentLength"],[1,"hashtag"],[1,"no-tags"],[1,"ellipsis"],["type","button",1,"show-more-or-less-button",3,"click"],["name","send","type","submit",1,"comment-post-button",2,"float","right"]],template:function(t,o){1&t&&(d.TgZ(0,"ion-header",0),d.TgZ(1,"ion-toolbar"),d.TgZ(2,"ion-buttons",1),d._UZ(3,"ion-back-button"),d.qZA(),d.TgZ(4,"ion-title"),d._uU(5,"Following"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(6,"ion-content"),d.TgZ(7,"ion-fab",2),d.TgZ(8,"ion-fab-button",3),d.NdJ("click",function(){return o.addPost()}),d._UZ(9,"ion-icon",4),d.qZA(),d.qZA(),d.TgZ(10,"ion-refresher",5),d.NdJ("ionRefresh",function(t){return o.doRefresh(t)}),d._UZ(11,"ion-refresher-content"),d.qZA(),d.TgZ(12,"ion-grid",6),d.TgZ(13,"ion-row",7),d.TgZ(14,"ion-col",8),d.TgZ(15,"ion-toolbar",9),d.TgZ(16,"ion-buttons",1),d.TgZ(17,"h1"),d._uU(18,"Following"),d.qZA(),d.qZA(),d.TgZ(19,"ion-buttons",10),d.TgZ(20,"ion-button",11),d.NdJ("click",function(){return o.addPost()}),d._uU(21," Add Post "),d.qZA(),d.TgZ(22,"ion-button",12),d.NdJ("click",function(){return o.back()}),d._uU(23," Back "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(24,"ion-row",13),d.YNc(25,b,4,0,"ion-col",14),d.TgZ(26,"ion-col",8),d.YNc(27,C,32,18,"div",15),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(25),d.Q6J("ngIf",0===o.allFollowedPosts.length),d.xp6(2),d.Q6J("ngForOf",o.allFollowedPosts))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.wd,r.W2,r.IJ,r.W4,r.gu,r.nJ,r.Wo,r.jY,r.Nd,r.wI,r.YG,e.O5,e.sg,e.mk,r.Ie,i._Y,i.JL,i.sg,r.g2,r.j9,i.JJ,i.u,h.g,f.H],styles:["ion-title[_ngcontent-%COMP%]{margin:0}.desktop-toolbar[_ngcontent-%COMP%]{--background:none;padding-bottom:16px;border-bottom:1px solid #33333326}.desktop-toolbar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0055a5}.post[_ngcontent-%COMP%]{padding:24px 0;margin-bottom:80px;border-radius:11px;box-shadow:1px 10px 26px rgba(0,0,0,.05);font-size:1.1em;line-height:35px;background:#fff}.post-content[_ngcontent-%COMP%]{font-size:1em}.post-title[_ngcontent-%COMP%]{font-weight:800;color:#0055a5;font-size:.9em;position:relative;top:-20px;line-height:25px;margin:10px 0 0}.post-buttons[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:none}.post-name[_ngcontent-%COMP%]{font-size:.9em;font-weight:700;color:#666}.post-date[_ngcontent-%COMP%], .post-name[_ngcontent-%COMP%]{margin:0;line-height:18px}.post-date[_ngcontent-%COMP%]{opacity:.4;font-size:.65em}.show-less[_ngcontent-%COMP%]{height:auto;overflow:hidden}.show-more-or-less-button[_ngcontent-%COMP%]{float:right;position:relative;right:0;margin-top:35px;padding:.5em;background:#0055a5;color:#fff;border-radius:5px;font-size:.6em;font-weight:600}.ellipsis[_ngcontent-%COMP%]{float:right;position:relative;right:20px;top:-18px}@media screen and (max-width: 567px){.post[_ngcontent-%COMP%]{padding:30px 0}}.no-posts[_ngcontent-%COMP%]{height:70vh}form[_ngcontent-%COMP%]{width:100%}.hashtags[_ngcontent-%COMP%]{position:relative;top:-32px}.hashtag[_ngcontent-%COMP%]{font-size:.55em;color:#ea8400}.hashtag[_ngcontent-%COMP%], .no-tags[_ngcontent-%COMP%]{font-weight:600;display:inline-block;margin-right:5px}.no-tags[_ngcontent-%COMP%]{font-size:.7em;color:#333;opacity:.5;position:relative;top:-32px}.comment[_ngcontent-%COMP%]{border:1px solid #005191;--padding-start:20px}.comment-post-button[_ngcontent-%COMP%]{--background:linear-gradient(#0672c4,#005191);height:30px;margin-top:20px;opacity:0;width:80px;transform:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275);-webkit-animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards;animation:slide-up .5s cubic-bezier(.175,.885,.32,1.275) forwards}.comment-input[_ngcontent-%COMP%]{margin:30px 0 60px}.comment-input[_ngcontent-%COMP%]:hover{margin:50px 0 80px}.comment-input-mobile[_ngcontent-%COMP%]{background:hsla(180,7%,97%,.5);margin:30px 0 60px;border:1px solid rgba(0,81,145,.4);border-radius:5px}ion-item[_ngcontent-%COMP%]{--background:none}.toolbar[_ngcontent-%COMP%] > ion-buttons[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{height:45px;border-radius:5px;padding:10px;--background:rgb(209,216,224,0.13);--color:#fff;width:140px;font-size:.6em}.toolbar[_ngcontent-%COMP%] > ion-buttons[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:relative;left:-10px}.post-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:140px;font-size:1em;--color:#005191}.blue-button[_ngcontent-%COMP%]{--color:#fff;--background:#0055a5;--background-hover:linear-gradient(#0055a5,#0055a2)}.add-button[_ngcontent-%COMP%], .blue-button[_ngcontent-%COMP%]{height:24px;width:100px;font-size:.5em;font-weight:600;display:block}.add-button[_ngcontent-%COMP%]{--color:#fff;--background:linear-gradient(#5ad8b2,#40c59d);--background-hover:linear-gradient(#bffce9,#7efcd4)}.comment[_ngcontent-%COMP%]{border:1px solid #0055a5;border-radius:5px;margin-top:20px;padding:10px}.comment-button[_ngcontent-%COMP%]{font-size:1em;font-weight:600;position:relative;right:-20px;top:5px}.comment-post-button[_ngcontent-%COMP%]{--border-color:#40c59d;--border-width:2px;--border-style:solid;--background:#40c59d;--color:#fff;height:40px;margin:29px auto;font-weight:600;font-size:.6em;border-radius:5px;width:100px}.comment-input[_ngcontent-%COMP%]{margin:10px 0 0;box-shadow:none;border:1px solid rgba(0,81,145,.4);border-radius:5px}.comment-input[_ngcontent-%COMP%], .comment-input[_ngcontent-%COMP%]:hover{background:hsla(180,7%,97%,.5);height:auto;padding-left:10px;transition:.5s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input[_ngcontent-%COMP%]:hover{margin:12px 0 4px;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}.comment-input-mobile[_ngcontent-%COMP%]{background:rgba(213,232,236,.3);height:auto;margin:20px 0 10px;box-shadow:none;padding-left:10px;border:3px solid #0055a5;border-radius:2px}.comment-input-mobile[_ngcontent-%COMP%], .comment-input-mobile[_ngcontent-%COMP%]:focus{transition:1s;transition-timing-function:cubic-bezier(.175,.885,.32,1.275)}.comment-input-mobile[_ngcontent-%COMP%]:focus{background:hsla(180,7%,97%,.5);height:100px;margin:30px 0 150px;box-shadow:1px 1px 3px #999;border:1px solid #005191;border-radius:5px}.comment-button[_ngcontent-%COMP%]{width:130px;--background:#0055a5;--background-hover:#0055a5;--color:#fff;font-size:.6em;font-size:800;border-radius:5px}ion-fab-button[_ngcontent-%COMP%]{--background:#1baf88;--color-focused:#fff;--color-hover:#fff;--color-activated:#fff;position:relative;bottom:50px;right:10px}@-webkit-keyframes slide-up{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes slide-up{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}"]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[c.Bz.forChild(M)],c.Bz]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[e.ez,i.u5,s.c,i.UX,r.Pc,A]]}),t})()}}]);