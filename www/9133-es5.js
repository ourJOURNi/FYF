!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(self.webpackChunkfind_you_future_app=self.webpackChunkfind_you_future_app||[]).push([[9133],{39133:function(n,o,i){"use strict";i.r(o),i.d(o,{ChatPagePageModule:function(){return T}});var r=i(38583),a=i(90665),s=i(19039),c=i(21224),u=i(21382),g=i(64762),l=i(10980),h=i(88720),p=i(70009),m=["message"];function d(e,t){if(1&e&&(h.TgZ(0,"ion-item"),h.TgZ(1,"ion-avatar"),h._UZ(2,"img",17),h.qZA(),h.TgZ(3,"ion-label"),h.TgZ(4,"h4",18),h._uU(5),h.TgZ(6,"span",19),h._uU(7),h.qZA(),h.qZA(),h.TgZ(8,"p",20),h._uU(9),h.qZA(),h.qZA(),h.qZA()),2&e){var n=t.$implicit;h.xp6(2),h.s9C("src",n.profilePicture,h.LSH),h.xp6(3),h.hij("",n.userFullName," "),h.xp6(2),h.hij("\xb7 ",n.date,""),h.xp6(2),h.Oqu(n.text)}}var f,v,Z=[{path:"",component:(f=function(){function n(t,o,i,r,a){e(this,n),this.alert=t,this.modal=o,this.studentChatService=i,this.activatedRoute=r,this.toast=a,this.shouldBounce=!0,this.dockedHeight=400,this.distanceTop=56,this.drawerState=c.Wk.Bottom,this.states=c.Wk,this.minimumHeight=0}var o,i,r;return o=n,(i=[{key:"ngOnInit",value:function(){var e=this.activatedRoute.snapshot.paramMap.get("chatId");this.chatId=e;var t=this.activatedRoute.snapshot.paramMap.get("email");this.email=t;var n=this.activatedRoute.snapshot.paramMap.get("fullName");this.fullName=n;var o=this.activatedRoute.snapshot.paramMap.get("profilePicture");this.profilePicture=o,document.getElementById("message-list")}},{key:"ngOnDestroy",value:function(){this._chatroomSub.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){e.input.getInputElement().then(function(t){e.message=t})},400)}},{key:"sendMessage",value:function(){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.message.value){e.next=6;break}return console.log("This message has no text"),e.next=4,this.toast.create({message:"This message has no text.",cssClass:"danger-toast",duration:2e3});case 4:return e.sent.present(),e.abrupt("return",!1);case 6:this.message.value="",this.message.focus();case 7:case"end":return e.stop()}},e,this)}))}},{key:"menu",value:function(){this.drawerState=this.drawerState===c.Wk.Bottom?c.Wk.Docked:c.Wk.Bottom}},{key:"delertAlert",value:function(){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alert.create({cssClass:"",header:"Are you sure you want to delete this conversation?",buttons:[{text:"Yes",handler:function(){console.log("Deleting")}},{text:"Cancel",role:"cancel"}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"reportAlert",value:function(){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alert.create({cssClass:"",header:"Are you sure you want to report this conversation?",buttons:[{text:"Yes",handler:function(){console.log("Reporting")}},{text:"Cancel",role:"cancel"}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}},e,this)}))}},{key:"reportConvo",value:function(){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modal.create({component:l.S,componentProps:{}});case 2:return t=e.sent,this.drawerState=c.Wk.Bottom,e.next=6,t.present();case 6:case"end":return e.stop()}},e,this)}))}}])&&t(o.prototype,i),r&&t(o,r),n}(),f.\u0275fac=function(e){return new(e||f)(h.Y36(s.Br),h.Y36(s.IN),h.Y36(p.U),h.Y36(u.gz),h.Y36(s.yF))},f.\u0275cmp=h.Xpm({type:f,selectors:[["app-chat-page"]],viewQuery:function(e,t){var n;1&e&&h.Gf(m,5),2&e&&h.iGM(n=h.CRH())&&(t.input=n.first)},decls:30,vars:6,consts:[[1,"ion-hide-lg-up"],["slot","start"],[1,"toolbar-title"],["slot","end"],[3,"click"],["src","../../../../../assets/icons/ellipsis.svg","alt","",1,"ellipsis"],["lines","none","id","message-list"],[4,"ngFor","ngForOf"],[1,"chat-messages-create-container"],["type","text","placeholder","Type message here",3,"keyup.enter"],["message",""],[1,"chat-messages-create-button",3,"click"],[3,"state","minimumHeight","dockedHeight","shouldBounce","distanceTop","stateChange"],[1,"drawer-content"],["lines","none"],[1,"blue-button",3,"click"],[1,"grey-button",3,"click"],[3,"src"],[2,"opacity","0.8"],[1,"date-sent"],[2,"font-size","1.1em","color","#111"]],template:function(e,t){1&e&&(h.TgZ(0,"ion-header",0),h.TgZ(1,"ion-toolbar"),h.TgZ(2,"ion-buttons",1),h._UZ(3,"ion-back-button"),h.TgZ(4,"p",2),h._uU(5,"Conversation"),h.qZA(),h.qZA(),h.TgZ(6,"ion-buttons",3),h.TgZ(7,"ion-button",4),h.NdJ("click",function(){return t.menu()}),h._UZ(8,"img",5),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(9,"ion-content"),h.TgZ(10,"ion-list",6),h.YNc(11,d,10,4,"ion-item",7),h.qZA(),h.TgZ(12,"ion-toolbar",8),h.TgZ(13,"ion-input",9,10),h.NdJ("keyup.enter",function(){return t.sendMessage()}),h.qZA(),h.TgZ(15,"ion-buttons",3),h.TgZ(16,"ion-button",11),h.NdJ("click",function(){return t.sendMessage()}),h._uU(17," Send "),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(18,"ion-bottom-drawer",12),h.NdJ("stateChange",function(e){return t.drawerState=e}),h.TgZ(19,"div",13),h.TgZ(20,"ion-list"),h.TgZ(21,"ion-item",14),h.TgZ(22,"ion-button",15),h.NdJ("click",function(){return t.delertAlert()}),h._uU(23," Delete "),h.qZA(),h.qZA(),h.TgZ(24,"ion-item",14),h.TgZ(25,"ion-button",15),h.NdJ("click",function(){return t.reportConvo()}),h._uU(26," Report "),h.qZA(),h.qZA(),h.TgZ(27,"ion-item",14),h.TgZ(28,"ion-button",16),h.NdJ("click",function(){return t.menu()}),h._uU(29," Cancel "),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(11),h.Q6J("ngForOf",t.chatroom),h.xp6(7),h.Q6J("state",t.drawerState)("minimumHeight",t.minimumHeight)("dockedHeight",t.dockedHeight)("shouldBounce",t.shouldBounce)("distanceTop",t.distanceTop))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.YG,s.W2,s.q_,r.sg,s.pK,s.j9,c.w5,s.Ie,s.BJ,s.Q$],styles:["ion-avatar[_ngcontent-%COMP%]{margin-right:20px}.new-message[_ngcontent-%COMP%]{color:#faa71b}ion-label[_ngcontent-%COMP%]{font-weight:800;display:block}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.8em}.date-sent[_ngcontent-%COMP%]{font-size:.8em;opacity:.8}.no-messages[_ngcontent-%COMP%]{font-size:1.4em;line-height:1.4em;padding:20px}.ellipsis[_ngcontent-%COMP%]{height:2.1em}.chat-messages-create-container[_ngcontent-%COMP%]{background:#005191;height:60px;position:fixed;bottom:0;padding:10px}.chat-messages-create-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border:1px solid #fff;--color:#fff;height:40px;width:90%}.chat-messages-create-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background:#fff;--background-hover:#fff;--color:#005191;height:40px;margin-right:15px}"]}),f)}],k=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[u.Bz.forChild(Z)],u.Bz]}),t}(),b=i(81369),T=((v=function t(){e(this,t)}).\u0275fac=function(e){return new(e||v)},v.\u0275mod=h.oAB({type:v}),v.\u0275inj=h.cJS({imports:[[r.ez,a.u5,s.Pc,c.Tn,k,b.ReportConvoPageModule]]}),v)}}])}();