{"version":3,"file":"src_app_pages_events_events-page_events-page_module_ts.js","mappings":"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","sources":["./src/app/pages/events/events-page/events-page-routing.module.ts","./src/app/pages/events/events-page/events-page.module.ts","./src/app/pages/events/events-page/events-page.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EventsPagePage } from './events-page.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EventsPagePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EventsPagePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EventsPagePageRoutingModule } from './events-page-routing.module';\n\nimport { EventsPagePage } from './events-page.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EventsPagePageRoutingModule\n  ],\n  declarations: [EventsPagePage]\n})\nexport class EventsPagePageModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastController } from '@ionic/angular';\nimport { EventsService } from '../../../services/events.service';\nimport { ProfileService } from '../../../services/profile.service';\nimport { EventsEventEmitterService } from 'src/app/emitters/events-event-emitter.service';\nimport { PlatformLocation } from '@angular/common';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-events-page',\n  templateUrl: './events-page.page.html',\n  styleUrls: ['./events-page.page.scss'],\n})\nexport class EventsPagePage implements OnInit, OnDestroy {\n\n  id;\n  userEmail;\n  going = false;\n\n  eventId;\n  eventTitle;\n  eventAddressOne;\n  eventAddressTwo;\n  eventCity;\n  eventState;\n  eventZip;\n  eventDateCreated;\n  eventDate;\n  eventTime;\n  eventDescription;\n  eventPhoto;\n\n  eventsSub: Subscription;\n  favoritingEventSub: Subscription;\n  unFavoritingEventSub: Subscription;\n  profileSub: Subscription;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private events: EventsService,\n    private profile: ProfileService,\n    private router: Router,\n    private toastController: ToastController,\n    private eventEmitterService: EventsEventEmitterService,\n    private location: PlatformLocation\n    ) { }\n\n  ngOnDestroy(): void {\n      // this.eventsSub.unsubscribe();\n      this.eventEmitterService.subsVar.unsubscribe();\n    }\n\n  ngOnInit() {\n\n    this.location.onPopState(() => {\n      this.eventEmitterService.onBackAction();\n    });\n\n    // tslint:disable-next-line: radix\n    const id  = this.activatedRoute.snapshot.paramMap.get('id');\n    // tslint:disable-next-line: radix\n    const title  = this.activatedRoute.snapshot.paramMap.get('title');\n    // tslint:disable-next-line: radix\n    const addressOne  = this.activatedRoute.snapshot.paramMap.get('addressOne');\n    // tslint:disable-next-line: radix\n    const addressTwo  = this.activatedRoute.snapshot.paramMap.get('addressTwo');\n    // tslint:disable-next-line: radix\n    const city  = this.activatedRoute.snapshot.paramMap.get('city');\n    // tslint:disable-next-line: radix\n    const state  = this.activatedRoute.snapshot.paramMap.get('state');\n    // tslint:disable-next-line: radix\n    const zip  = this.activatedRoute.snapshot.paramMap.get('zip');\n    // tslint:disable-next-line: radix\n    const date  = this.activatedRoute.snapshot.paramMap.get('date');\n    // tslint:disable-next-line: radix\n    const dateCreated  = this.activatedRoute.snapshot.paramMap.get('dateCreated');\n    // tslint:disable-next-line: radix\n    const time  = this.activatedRoute.snapshot.paramMap.get('time');\n      // tslint:disable-next-line: radix\n    const description  = this.activatedRoute.snapshot.paramMap.get('description');\n      // tslint:disable-next-line: radix\n    const photo  = this.activatedRoute.snapshot.paramMap.get('photo');\n      // tslint:disable-next-line: radix\n\n    this.eventId = id;\n    this.eventTitle = title;\n    this.eventAddressOne = addressOne;\n    this.eventAddressTwo = addressTwo;\n    this.eventCity = city;\n    this.eventState = state;\n    this.eventZip = zip;\n    this.eventDateCreated = dateCreated;\n    this.eventDate = date;\n    this.eventTime = time;\n    this.eventDescription = description;\n    this.eventPhoto = photo;\n\n    this.profileSub = this.profile.getUserDetails().subscribe(\n      details => {\n\n        // Get all the events that the user is going to.\n\n        this.id = details['_id'];\n        let favoriteEvents = details['favoriteEvents'];\n        console.log(favoriteEvents);\n\n        if (favoriteEvents.includes(this.eventId)) {\n          this.going = true;\n        } else {\n          this.going = false;\n        }\n\n        console.log();\n      }\n    );\n  }\n\n  favoritingEvent() {\n\n    this.going = true;\n    this.presentGoingToast();\n    console.log(`Adding ${this.eventId} to this Users favoriteEvents property`);\n\n    this.favoritingEventSub = this.events.favoriteThisEvent(this.id)\n      .subscribe(events => {\n\n        let updatedEvents = [...Object.values(events['favoriteEvents']), this.eventId];\n        this.events.favoriteEvents$.next(updatedEvents);\n        console.log(this.events.favoriteEvents$.getValue());\n\n        // this.events.getfavoriteEvents(this.id).subscribe(\n        //   favoriteEvents => {\n        //     console.log(favoriteEvents);\n        //   }\n        // );\n    });\n  }\n\n  unFavoritingEvent() {\n    this.going = false;\n    this.presentNotGoingToast();\n    console.log(`Removing ${this.eventId} from this Users favoriteEvents property`);;\n    this.unFavoritingEventSub = this.events.unFavoriteThisEvent(this.id).subscribe(\n      events => {\n        const favoriteEvents = this.events.favoriteEvents$.getValue();\n\n        for (let i = 0; i < favoriteEvents.length; i++) {\n          if (favoriteEvents[i] === this.eventId) {\n            favoriteEvents.splice(i, 1);\n          }\n        }\n        console.log(favoriteEvents);\n\n        this.events.favoriteEvents$.next(favoriteEvents);\n      }\n    );\n  }\n\n  callEventEmitter() {\n    this.eventEmitterService.onBackAction();\n  }\n\n  async presentGoingToast() {\n    const toast = await this.toastController.create({\n      message: 'You are going to this Event. It has been saved to your \"Going\" list',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  async presentNotGoingToast() {\n    const toast = await this.toastController.create({\n      message: 'You are no longer going to event. It has been removed from your \"Going\" list',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}